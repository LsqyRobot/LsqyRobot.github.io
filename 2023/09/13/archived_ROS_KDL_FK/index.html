<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/favicon.ico"/>
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM" />
    <link rel="stylesheet" href="/css/lsqy_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot" />
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/myCover.png') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>
		


<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<body class="is-loading">
    <div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/ALGORITHM/">ALGORITHM</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/CONFIG/">CONFIG</a></li><li><a class="category-link" href="/categories/CONTROL/">CONTROL</a></li><li><a class="category-link" href="/categories/CPP/">CPP</a></li><li><a class="category-link" href="/categories/GIT/">GIT</a></li><li><a class="category-link" href="/categories/HEXO/">HEXO</a></li><li><a class="category-link" href="/categories/LATEX/">LATEX</a></li><li><a class="category-link" href="/categories/LIFE/">LIFE</a></li><li><a class="category-link" href="/categories/LINUX/">LINUX</a></li><li><a class="category-link" href="/categories/MAC-BOOK/">MAC BOOK</a></li><li><a class="category-link" href="/categories/MATLAB/">MATLAB</a></li><li><a class="category-link" href="/categories/PYTHON/">PYTHON</a></li><li><a class="category-link" href="/categories/ROBOTICS/">ROBOTICS</a></li><li><a class="category-link" href="/categories/ROS/">ROS</a></li><li><a class="category-link" href="/categories/TOOLS/">TOOLS</a></li><li><a class="category-link" href="/categories/dataStruct/">dataStruct</a></li><li><a class="category-link" href="/categories/robotics/">robotics</a>
	                    </ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/" ><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/" ><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/" ><img src="/img/quote.png"></a>
	        
			</li>


	        <!-- about 关于搜索栏   --> 
			<li>
	        
			</li>



	        <!-- my lover--> 
			<li>
	        
	            <a href="/dudu/" ><img src="/img/myLoverLogo.png"></a>
	        
			</li>

	        <!-- my tags--> 
			<li>
	        
			</li>


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/1_ros/logo/snail-582194_1920_used.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >基于KDL与DH参数的运动学正逆解</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#简介">简介</a></li>
<li><a href="#kdl-源码下载">KDL 源码下载</a></li>
<li><a href="#sdh-参数作为运动学模型的输入">SDH 参数作为运动学模型的输入</a></li>
<li><a href="#概念描述">概念描述</a><ul>
<li><a href="#机器人描述最小单元segment">机器人描述最小单元：Segment</a></li>
<li><a href="#关节-joint描述">关节 joint描述</a></li>
<li><a href="#连杆动力学参数rigidbodyinertia">连杆动力学参数：RigidBodyInertia</a></li>
<li><a href="#串联机器人链chain">串联机器人链：Chain</a></li>
<li><a href="#建立树tree">建立树：tree</a></li>
</ul>
</li>
<li><a href="#正运动学求解器">正运动学求解器</a></li>
<li><a href="#逆运动学求解器">逆运动学求解器</a></li>
<li><a href="#trac_ik逆解调用">TRAC_IK逆解调用</a><ul>
<li><a href="#参考代码示例">参考代码示例</a></li>
</ul>
</li>
<li><a href="#问题及解释">问题及解释</a><ul>
<li><a href="#1kdl的inverse-jacobian和trac_ik的inverse-jacobian区别">1.KDL的inverse Jacobian和TRAC_IK的inverse Jacobian区别？</a></li>
<li><a href="#2kdl中的joint-limit包括哪些">2.KDL中的joint limit包括哪些？</a></li>
<li><a href="#3kdl求解成功率低你认为主要问题在哪儿">3.KDL求解成功率低，你认为主要问题在哪儿？</a></li>
<li><a href="#4trac-ik非线性求解中cost-function是什么约束条件包括哪些">4.TRAC-IK非线性求解中cost function是什么？约束条件包括哪些？</a></li>
</ul>
</li>
<li><a href="#gazebo-仿真部分">Gazebo 仿真部分</a><ul>
<li><a href="#error-cannot-launch-node-of-type-robot_state_publisherstate_publisher解决方法">ERROR: cannot launch node of type [robot_state_publisher/state_publisher]:解决方法</a></li>
<li><a href="#demo_gazebo无法启动">demo_gazebo无法启动</a></li>
<li><a href="#gazebo仿真掉轴">gazebo仿真掉轴</a><ul>
<li><a href="#排查是否由于使用solidworks导出文件有误">排查是否由于使用solidworks导出文件有误</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#找不到要链接的动态链接库路径">找不到要链接的动态链接库路径</a><ul>
<li><a href="#注意事项">注意事项</a></li>
</ul>
</li>
<li><a href="#其他未归类事项">其他未归类事项</a></li>
<li><a href="#参考">参考</a></li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p><a target="_blank" rel="noopener" href="https://github.com/orocos/orocos_kinematics_dynamics">KDL</a>（Kinematics and Dynamics）：机器人运动学与动力学组件，是MoveIt!中的默认运动学插件，在使用MoveIt Setup Assistant进行模型配置时，可以进行配置。学习机器人路径规划、轨迹规划、逆解算法，甚至编程的话，是一个很好的学习素材； 本文的测试环境为： <code>Ubuntu 20.04.2 ARM64</code>, 以埃夫特机器人通用六轴工业机器人为例来说明如何调用KDL的正逆运动学求解部分; 下面简单对相关运动学求解器做个简单的介绍：</p>
<p>（1）KDL</p>
<p>KDL（Kinematics and Dynamics Library）是MoveIt!中的默认运动学插件，其有自己的优缺点，优点在于可求解封闭情况下逆运动，缺点在于速度慢，同时可能找不到解。</p>
<p>（2）TRAC-IK</p>
<p>TRAC-IK和KDL类似，也是一种基于数值解的运动学插件，但是在算法层面上进行了很多改进，求解效率高了很多。可通过如下方式安装（个人使用的是noetic版本）</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install ros-noetic-trac-ik-kinematics-plugin</span><br></pre></td></tr></table></figure>
<p>（3）IKFAST</p>
<p>IKFAST是一种基于解析算法的运动学插件，可以求解任意复杂运动链的运动学方程并保证每次求解的一致性，整体来说，IKFAST比较稳定快速，一般5us的速度可完成运算。</p>
<p>3.MoveIt!运动插件开发方法</p>
<p>MoveIt!并不提供算法源码，只是将算法按照约定的方法进行封装，算法是数学模型的代码实现，和MoveIt!本身并没有关系，如果需要集成功能算法到MoveIt!中，需要编写接口文件，满足MoveIt!的插件规范即可，然后向move_group进行注册，这样使用时即可通过yaml或launch文件进行直接的调用。</p>
<h1 id="KDL-源码下载"><a href="#KDL-源码下载" class="headerlink" title="KDL 源码下载"></a>KDL 源码下载</h1><p>首先，下载KDL源码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/Destop</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/SarvagyaVaish/Orocos-KDL-Forward-Kinematics.git</span><br></pre></td></tr></table></figure>
<p>再需要安装相关依赖</p>
<figure class="highlight q"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install liborocos-kdl-<span class="built_in">dev</span></span><br></pre></td></tr></table></figure>
<p>第一步，确认是否配置成功，输入如下命令行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> orocos_kinematics_dynamics/orocos_kdl/</span><br><span class="line"><span class="built_in">mkdir</span> build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br></pre></td></tr></table></figure>
<p>后，会得到如下图像<br><img src="/img/postImg/1_ros/KDL/FK/testReady.png" style="zoom:80%;" /></p>
<p>然后在命令行中输入<code>make</code>,看编译是否成功，如下图所示</p>
<p><img src="/img/postImg/1_ros/KDL/FK/kdl_make.png" alt=""></p>
<h1 id="SDH-参数作为运动学模型的输入"><a href="#SDH-参数作为运动学模型的输入" class="headerlink" title="SDH 参数作为运动学模型的输入"></a>SDH 参数作为运动学模型的输入</h1><p>在编写代码前，需要对DH参数进行转换，转换成KDL能够识别的内容，进行正逆运动学的计算，下面给出具体的代码(main.cpp)</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;iomanip&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#include &quot;chain.hpp&quot;</span></span><br><span class="line"><span class="comment">// FK solver</span></span><br><span class="line"><span class="comment">#include  &quot;chainfksolverpos_recursive.hpp&quot;</span></span><br><span class="line"><span class="comment">// IK solver</span></span><br><span class="line"><span class="comment">#include &quot;chainiksolverpos_lma.hpp&quot;</span></span><br><span class="line"></span><br><span class="line">using <span class="keyword">namespace</span> <span class="title class_">KDL</span>;</span><br><span class="line">using <span class="keyword">namespace</span> <span class="title class_">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">int</span> JOINT_NUM = <span class="number">6</span>;</span><br><span class="line"><span class="comment">// ARC12-200 parameters</span></span><br><span class="line"><span class="comment">// input link and tool parameters;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L1  =  <span class="number">155.0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L2  =  <span class="number">483.6</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L3  =    <span class="number">850</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L4  =  <span class="number">205.0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L5  = <span class="number">1000.0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L6  =   <span class="number">75.0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> L7  =   -<span class="number">4.5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> PI2 =   PI/<span class="number">2</span>;</span><br><span class="line"><span class="comment">// tool parameters</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> tool_x =  <span class="number">10</span>;    </span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> tool_y = -<span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> tool_z =  <span class="number">30</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> tool_a =  <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> tool_b =  <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">double</span> tool_c =  <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> theta[JOINT_NUM]  = &#123;<span class="number">0</span>,  PI2, <span class="number">0</span>, PI, PI, PI&#125;;</span><br><span class="line"><span class="keyword">double</span> d[JOINT_NUM]      = &#123;L2, L7, <span class="number">0</span>, L5, <span class="number">0</span>, L6&#125;;</span><br><span class="line"><span class="keyword">double</span> a[JOINT_NUM]      = &#123;L1, L3, L4, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">double</span> alpha[JOINT_NUM]  = &#123;PI2, <span class="number">0</span>, PI2, PI2, PI2, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">Chain <span class="title function_ invoke__">eftRobot</span>() &#123;</span><br><span class="line">    Chain eft;</span><br><span class="line">    eft.<span class="title function_ invoke__">addSegment</span>(<span class="title function_ invoke__">Segment</span>(<span class="string">&quot;joint1&quot;</span>, <span class="title function_ invoke__">Joint</span>(<span class="title class_">Joint</span>::<span class="variable constant_">RotZ</span>),</span><br><span class="line">                           <span class="title class_">Frame</span>::<span class="title function_ invoke__">DH</span>(a[<span class="number">0</span>], alpha[<span class="number">0</span>], d[<span class="number">0</span>], theta[<span class="number">0</span>])));</span><br><span class="line">    eft.<span class="title function_ invoke__">addSegment</span>(<span class="title function_ invoke__">Segment</span>(<span class="string">&quot;joint2&quot;</span>, <span class="title function_ invoke__">Joint</span>(<span class="title class_">Joint</span>::<span class="variable constant_">RotZ</span>),</span><br><span class="line">                           <span class="title class_">Frame</span>::<span class="title function_ invoke__">DH</span>(a[<span class="number">1</span>], alpha[<span class="number">1</span>], d[<span class="number">1</span>], theta[<span class="number">1</span>])));</span><br><span class="line">    eft.<span class="title function_ invoke__">addSegment</span>(<span class="title function_ invoke__">Segment</span>(<span class="string">&quot;joint3&quot;</span>, <span class="title function_ invoke__">Joint</span>(<span class="title class_">Joint</span>::<span class="variable constant_">RotZ</span>),</span><br><span class="line">                           <span class="title class_">Frame</span>::<span class="title function_ invoke__">DH</span>(a[<span class="number">2</span>], alpha[<span class="number">2</span>], d[<span class="number">2</span>], theta[<span class="number">2</span>])));</span><br><span class="line">    eft.<span class="title function_ invoke__">addSegment</span>(<span class="title function_ invoke__">Segment</span>(<span class="string">&quot;joint4&quot;</span>, <span class="title function_ invoke__">Joint</span>(<span class="title class_">Joint</span>::<span class="variable constant_">RotZ</span>),</span><br><span class="line">                           <span class="title class_">Frame</span>::<span class="title function_ invoke__">DH</span>(a[<span class="number">3</span>], alpha[<span class="number">3</span>], d[<span class="number">3</span>], theta[<span class="number">3</span>])));</span><br><span class="line">    eft.<span class="title function_ invoke__">addSegment</span>(<span class="title function_ invoke__">Segment</span>(<span class="string">&quot;joint5&quot;</span>, <span class="title function_ invoke__">Joint</span>(<span class="title class_">Joint</span>::<span class="variable constant_">RotZ</span>),</span><br><span class="line">                           <span class="title class_">Frame</span>::<span class="title function_ invoke__">DH</span>(a[<span class="number">4</span>], alpha[<span class="number">4</span>], d[<span class="number">4</span>], theta[<span class="number">4</span>])));</span><br><span class="line">    eft.<span class="title function_ invoke__">addSegment</span>(<span class="title function_ invoke__">Segment</span>(<span class="string">&quot;joint6&quot;</span>, <span class="title function_ invoke__">Joint</span>(<span class="title class_">Joint</span>::<span class="variable constant_">RotZ</span>),</span><br><span class="line">                           <span class="title class_">Frame</span>::<span class="title function_ invoke__">DH</span>(a[<span class="number">5</span>], alpha[<span class="number">5</span>], d[<span class="number">5</span>], theta[<span class="number">5</span>])));</span><br><span class="line">    <span class="keyword">return</span> eft;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="title function_ invoke__">main</span>(<span class="keyword">int</span> argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">double</span> input_qj[JOINT_NUM];</span><br><span class="line">	input_qj[<span class="number">0</span>] =  <span class="number">0</span>;</span><br><span class="line">	input_qj[<span class="number">1</span>] =  <span class="number">0</span>;</span><br><span class="line">	input_qj[<span class="number">2</span>] =  <span class="number">0</span>;</span><br><span class="line">	input_qj[<span class="number">3</span>] =  <span class="number">0</span>;</span><br><span class="line">	input_qj[<span class="number">4</span>] = <span class="number">50</span>;</span><br><span class="line">	input_qj[<span class="number">5</span>] =  <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	Chain eft_robot = <span class="title function_ invoke__">eftRobot</span>();</span><br><span class="line">  JntArray <span class="title function_ invoke__">q</span>(eft_robot.<span class="title function_ invoke__">getNrOfJoints</span>());</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; JOINT_NUM; i++)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="title function_ invoke__">q</span>(i) = input_qj[i] * deg2rad;	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"> 	ChainFkSolverPos_recursive <span class="title function_ invoke__">fksolver</span>(eft_robot);</span><br><span class="line"></span><br><span class="line">    Frame flangeFrame;</span><br><span class="line">	fksolver.<span class="title function_ invoke__">JntToCart</span>(q, flangeFrame);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Frame toolFrame;</span><br><span class="line">	toolFrame.p[<span class="number">0</span>] = tool_x;</span><br><span class="line">	toolFrame.p[<span class="number">1</span>] = tool_y;</span><br><span class="line">	toolFrame.p[<span class="number">2</span>] = tool_z;</span><br><span class="line">	Rotation toolRotation = <span class="title class_">Rotation</span>::<span class="title function_ invoke__">RPY</span>(tool_a * deg2rad, tool_b * deg2rad, tool_c * deg2rad);</span><br><span class="line">	toolFrame.M = toolRotation;</span><br><span class="line"></span><br><span class="line">	Frame T;</span><br><span class="line">	T = flangeFrame * toolFrame;</span><br><span class="line">	Rotation R;</span><br><span class="line">	R = T.M;</span><br><span class="line">	<span class="keyword">double</span> aa, bb, cc;</span><br><span class="line">	R.<span class="title function_ invoke__">GetRPY</span>(cc, bb, aa);</span><br><span class="line">	<span class="keyword">double</span> A, B, C;</span><br><span class="line">	A = aa * rad2deg;</span><br><span class="line">	B = bb * rad2deg;</span><br><span class="line">	C = cc * rad2deg;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> fkRes[<span class="number">6</span>];</span><br><span class="line">	fkRes[<span class="number">0</span>] = T.p[<span class="number">0</span>];</span><br><span class="line">	fkRes[<span class="number">1</span>] = T.p[<span class="number">1</span>];</span><br><span class="line">	fkRes[<span class="number">2</span>] = T.p[<span class="number">2</span>];</span><br><span class="line">	fkRes[<span class="number">3</span>] = A;</span><br><span class="line">	fkRes[<span class="number">4</span>] = B;</span><br><span class="line">	fkRes[<span class="number">5</span>] = C;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">      cout &lt;&lt; <span class="string">&quot;fk value is &quot;</span> &lt;&lt; fkRes[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">// IK solve</span></span><br><span class="line">	JntArray <span class="title function_ invoke__">qInit</span>(eft_robot.<span class="title function_ invoke__">getNrOfJoints</span>());</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; JOINT_NUM; i++)</span><br><span class="line">	&#123;</span><br><span class="line">        <span class="title function_ invoke__">qInit</span>(i) = input_qj[i] * deg2rad + <span class="number">0.1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	JntArray <span class="title function_ invoke__">qSol</span>(eft_robot.<span class="title function_ invoke__">getNrOfJoints</span>());</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">double</span> eps = <span class="number">1E-6</span>;  <span class="comment">// 笛卡尔空间的收敛阈值</span></span><br><span class="line">	<span class="keyword">int</span> maxIter = <span class="number">500</span>;</span><br><span class="line">	<span class="keyword">double</span> eps_joints= <span class="number">1e-8</span>;   <span class="comment">// 关节空间的收敛阈值</span></span><br><span class="line">	ChainIkSolverPos_LMA ikSolver = <span class="title function_ invoke__">ChainIkSolverPos_LMA</span>(eft_robot, eps, maxIter, eps_joints);</span><br><span class="line">	ikSolver.<span class="title function_ invoke__">CartToJnt</span>(qInit, flangeFrame, qSol);</span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt;<span class="string">&quot;(KDL IK SOLVE)theta1 value is\t&quot;</span> &lt;&lt;  rad2deg * <span class="title function_ invoke__">qSol</span>(<span class="number">0</span>)  &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt;<span class="string">&quot;(KDL IK SOLVE)theta2 value is\t&quot;</span> &lt;&lt;  rad2deg * <span class="title function_ invoke__">qSol</span>(<span class="number">1</span>)  &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt;<span class="string">&quot;(KDL IK SOLVE)theta3 value is\t&quot;</span> &lt;&lt;  rad2deg * <span class="title function_ invoke__">qSol</span>(<span class="number">2</span>)  &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt;<span class="string">&quot;(KDL IK SOLVE)theta4 value is\t&quot;</span> &lt;&lt;  rad2deg * <span class="title function_ invoke__">qSol</span>(<span class="number">3</span>)  &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt;<span class="string">&quot;(KDL IK SOLVE)theta5 value is\t&quot;</span> &lt;&lt;  rad2deg * <span class="title function_ invoke__">qSol</span>(<span class="number">4</span>)  &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    std::<span class="variable constant_">cout</span> &lt;&lt;<span class="string">&quot;(KDL IK SOLVE)theta6 value is\t&quot;</span> &lt;&lt;  rad2deg * <span class="title function_ invoke__">qSol</span>(<span class="number">5</span>)  &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以及对应的CmakeLists.txt如下</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span> (VERSION <span class="number">3.0</span>.<span class="number">2</span>)</span><br><span class="line"><span class="keyword">project</span> (FK_KDL_Tutorial)</span><br><span class="line"></span><br><span class="line"><span class="keyword">find_package</span> (orocos_kdl REQUIRED)</span><br><span class="line"><span class="keyword">include_directories</span> (<span class="variable">$&#123;orocos_kdl_INCLUDE_DIRS&#125;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">add_executable</span> (SimpleRobotFK main.cpp)</span><br><span class="line"><span class="keyword">target_link_libraries</span> (SimpleRobotFK <span class="variable">$&#123;orocos_kdl_LIBRARIES&#125;</span>)</span><br></pre></td></tr></table></figure>
<p>另外需要修改在最上层的CMakeLists.txt， 加入build的目录，即可， 如下所示<br><img src="/img/postImg/1_ros/KDL/FK/ADD_SUBDIRECTORY.png" alt=""></p>
<p>加入完这段指令后，回到build目录，输入<code>cmake ..</code>, 在build目录中，能够看到如下内容(重要的就只有<code>main.cpp</code>与<code>CMakeLists.txt</code>了)</p>
<p><img src="/img/postImg/1_ros/KDL/FK/dir_build.png" alt=""></p>
<p>直接在命令行中<code>make</code>即可，如下图所示</p>
<p><img src="/img/postImg/1_ros/KDL/FK/make.png" alt=""></p>
<p>这样就成功了，然后通过如下指令，运行编译出来的结果</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">../devel/lib/orocos_kdl</span></span><br><span class="line"><span class="string">./SimpleRobotFK</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/postImg/1_ros/KDL/FK/result.png" alt=""></p>
<p>至此，基本上运动学正逆解部分就已经结束了，这里采用的是标准DH（SDH）建模，对于工业机器人来说，SDH和MDH其实差别不大，主要体现在机器人标定以及动力学递归推导的简洁性，当然，KDL里面也提供了MDH以及旋量等方式进行的运动学建模，仅作为示例， 不一一列举；</p>
<h1 id="概念描述"><a href="#概念描述" class="headerlink" title="概念描述"></a>概念描述</h1><p>按照上面的例子，可以开始将这一工具用起来了，下面记录一些相关的概念；KDL描述机器人的方式分别是段，链，与树，可用于串并联机器人的描述；</p>
<h2 id="机器人描述最小单元：Segment"><a href="#机器人描述最小单元：Segment" class="headerlink" title="机器人描述最小单元：Segment"></a>机器人描述最小单元：Segment</h2><p>机器人最小结构所需要的参数：关节、坐标、连杆质量、连杆惯性张量</p>
<p><img src="/img/postImg/1_ros/KDL/segment/segment_describe.png" alt=""></p>
<p>其中 <code>oc</code>表示质心；在图中可以看出，segment拥有一个参考坐标系、关节坐标系、质心坐标系，tip坐标系，其中参考坐标系通常与关节坐标系重合，tip坐标系用于描述杆件姿态，同时作为下一个segment的参考坐标系，质心坐标系与参考坐标系同向。在KDL中采用三个结构体来描述，关节、坐标，刚体惯量; </p>
<h2 id="关节-joint描述"><a href="#关节-joint描述" class="headerlink" title="关节 joint描述"></a>关节 joint描述</h2><p>KDL源码对此部分的构造函数如下图所示</p>
<p><img src="/img/postImg/1_ros/KDL/joint_describe.png" alt=""></p>
<p>各个含义解释如下：</p>
<ul>
<li>1 关节名字：name</li>
<li>2 原点：origin</li>
<li>3 轴：_axis</li>
<li>4 关节类型：JointType</li>
<li><p>JointType = Fixed （表示被固定的关节）</p>
<p>RotAxis<br>RotX<br>RotY<br>RotZ<br>TransAxis<br>TransX<br>TransY<br>TransZ</p>
</li>
<li>5  减速比：scale，一般默认设置就可以，需要注意的是KDL里面没有耦合比，要做电机关节转换的时候需要自己写一个函数；<br>6 偏置：offset</li>
<li>7 惯量：inertia，绕转动轴的一维惯量</li>
<li>8 阻尼：damping</li>
<li>9 刚度：stiffness</li>
</ul>
<h2 id="连杆动力学参数：RigidBodyInertia"><a href="#连杆动力学参数：RigidBodyInertia" class="headerlink" title="连杆动力学参数：RigidBodyInertia"></a>连杆动力学参数：RigidBodyInertia</h2><p>连杆的动力学参数包括了三个量：</p>
<ul>
<li><p>1 质量：m</p>
</li>
<li><p>2 质心：oc</p>
</li>
<li><p>3 惯性张量矩阵：Ic</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">RotationalInertia(double <span class="attribute">Ixx</span>=0,double <span class="attribute">Iyy</span>=0,double <span class="attribute">Izz</span>=0,double <span class="attribute">Ixy</span>=0,double <span class="attribute">Ixz</span>=0,double <span class="attribute">Iyz</span>=0) </span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="串联机器人链：Chain"><a href="#串联机器人链：Chain" class="headerlink" title="串联机器人链：Chain"></a>串联机器人链：Chain</h2><p>由基本元素段segment相连，构成了一个串联的链，</p>
<p><img src="/img/postImg/1_ros/KDL/chain_describe.png" alt=""></p>
<h2 id="建立树：tree"><a href="#建立树：tree" class="headerlink" title="建立树：tree"></a>建立树：tree</h2><p>一般，树不会直接代码建立，而是采用更简单的方法，通过URDF文件获取，获取方法如下所示。</p>
<figure class="highlight capnproto"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urdf_parser_py.urdf <span class="keyword">import</span> URDF</span><br><span class="line"><span class="keyword">from</span> pykdl_utils.kdl_kinematics <span class="keyword">import</span> KDLKinematics</span><br><span class="line"><span class="keyword">from</span> pykdl_utils.kdl_parser <span class="keyword">import</span> kdl_tree_from_urdf_model</span><br><span class="line"></span><br><span class="line"><span class="comment">#读取URDF文件</span></span><br><span class="line">robot = URDF.from_xml_file(<span class="string">&quot;/yourpath/catkin_ws/src/robot_description/armc_description/urdf/armc_description.urdf&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将URDF转换为树</span></span><br><span class="line">tree = kdl_tree_from_urdf_model(robot)</span><br><span class="line"></span><br><span class="line"><span class="comment">#截取需要的部分构成链</span></span><br><span class="line">chain = tree.getChain(<span class="string">&quot;base_link&quot;</span>, <span class="string">&quot;sensor_link&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="正运动学求解器"><a href="#正运动学求解器" class="headerlink" title="正运动学求解器"></a>正运动学求解器</h1><ul>
<li><p>必须为每个链创建一个单独的求解器；</p>
</li>
<li><p>正运动学函数<code>JntToCart()</code>,从关节空间值计算笛卡尔空间值，逆运动学试用功能<code>CartToJnt()</code>,从笛卡尔空间值计算关节空间值；</p>
</li>
<li><p>KDL提供了关节运动学（从目前所看代码来说，并没有从电机角度到关节角度的转换，即无耦合比，但是有一个scale即传动比，所以推测是关节运动学）和动力学（关节动力学），考虑了从关节空间到笛卡尔空间的正逆运动学；</p>
</li>
<li><p>JntToCart方法： 求解关节空间到某一个segment笛卡尔空间的正运动学（位置或速度）；当segmentNr=-1(默认值), 从基座解算到法兰端，当segmentNr&gt;0如segmentNr=3时，对应的结果为$pc_{out} = T^0_3 = T^0_1T^1_2T^2_3$</p>
<p><img src="/img/postImg/1_ros/KDL/FK/ChainFk_JntToCart.png" alt=""></p>
</li>
</ul>
<h1 id="逆运动学求解器"><a href="#逆运动学求解器" class="headerlink" title="逆运动学求解器"></a>逆运动学求解器</h1><p>chainIksolver.hpp中有两个抽象类</p>
<ul>
<li>ChainIkSolverPos</li>
<li>ChainIkSolverVel</li>
<li>ChainIkSolverAcc(带有关节加速度约束的求解)</li>
</ul>
<p><img src="/img/postImg/1_ros/KDL/IK/逆解求解器3种.png" alt=""></p>
<p>KDL逆解采用的数值解法其中：</p>
<ul>
<li>位置求解有三种（Levenberg Marquardt(非线性最小二乘优化问题的算法, 结合了梯度下降和牛顿法的优点), Newton Raphson(基于泰勒展开的思想，将非线性函数线性化，从而在每次迭代中逐步逼近函数的根), Newton Raphson(关节限位))</li>
</ul>
<!--  | 文件                       | 含义                                            |   -->
<!--  | -------------------------- | ----------------------------------------------- |   -->
<!--  | chainiksolverpos_lma.hpp   | 使用Levenberg-Marquardt求解方法（默认求解方式） |   -->
<!--  | chainiksolverpos_nr.hpp    | Newton Raphson 迭代法求解                       |   -->
<!--  | chainiksolverpos_nr_jl.hpp | 带有关节限位的Newton Raphson 迭代法求解         |     -->
<p><img src="/img/postImg/1_ros/KDL/IK/tab_KDL_IK_position_sol.png" alt=""></p>
<ul>
<li>速度求解有四种（SVD分解及其优化）</li>
</ul>
<!--  | 文件                             | 含义                                                         | -->
<!--  | -------------------------------- | ------------------------------------------------------------ | -->
<!--  | chainiksolvervel_pinv.hpp        | 使用广义伪逆进行求解（基于Householder的SVD分解）， TRAC_IK求解器主要用到这个函数 | -->
<!--  | chainiksolvervel_pinv_givens.hpp | 使用广义伪逆进行求解（基于Maciejewski的SVD分解）             | -->
<!--  | chainiksolvervel_pinv_nso.hpp    | 针对冗余机器人的优化求解（SVD分解+冗余优化）                 | -->
<!--  | chainiksolvervel_wdls.hpp        | 加权最小二乘的SVD分解（避免在奇异配置下的数值不稳定性，以及在需要特定关节或方向优先运动时，通过权重矩阵调整实现更灵活的运动规划。） | -->
<p><img src="/img/postImg/1_ros/KDL/IK/tab_KDL_IK_vel_sol.png" alt=""></p>
<h1 id="TRAC-IK逆解调用"><a href="#TRAC-IK逆解调用" class="headerlink" title="TRAC_IK逆解调用"></a>TRAC_IK逆解调用</h1><h2 id="参考代码示例"><a href="#参考代码示例" class="headerlink" title="参考代码示例"></a>参考代码示例</h2><figure class="highlight twig"><table><tr><td class="code"><pre><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">ctime</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">iomanip</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">iostream</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">random</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">string</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">vector</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">random</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">#include &quot;chain.hpp&quot;</span></span><br><span class="line"><span class="language-xml">#include &quot;chainfksolverpos_recursive.hpp&quot;</span></span><br><span class="line"><span class="language-xml">#include &quot;optimal_ik.hpp&quot;</span></span><br><span class="line"><span class="language-xml">#include <span class="tag">&lt;<span class="name">chrono</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">using namespace EfortRobotics;</span></span><br><span class="line"><span class="language-xml">using namespace std;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">std::vector<span class="tag">&lt;<span class="name">double</span>&gt;</span> generateRandomNumbers(size_t N, double lower_bound,</span></span><br><span class="line"><span class="language-xml">                                          double upper_bound) &#123;</span></span><br><span class="line"><span class="language-xml">  // Create a random device and use it to seed the random number generator</span></span><br><span class="line"><span class="language-xml">  std::random_device rd;</span></span><br><span class="line"><span class="language-xml">  std::mt19937 generator(rd());</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // Define the distribution range</span></span><br><span class="line"><span class="language-xml">  std::uniform_real_distribution<span class="tag">&lt;<span class="name">double</span>&gt;</span> distribution(lower_bound, upper_bound);</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // Vector to store the random numbers</span></span><br><span class="line"><span class="language-xml">  std::vector<span class="tag">&lt;<span class="name">double</span>&gt;</span> random_numbers;</span></span><br><span class="line"><span class="language-xml">  random_numbers.reserve(N);</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // Generate N random numbers</span></span><br><span class="line"><span class="language-xml">  for (size_t i = 0; i &lt; N; ++i) &#123;</span></span><br><span class="line"><span class="language-xml">    random_numbers.push_back(distribution(generator));</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  return random_numbers;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">const double GR1650RobotData[10][15] = </span></span><br><span class="line"><span class="language-xml"></span><span class="template-variable">&#123;&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">04651885</span>,-<span class="number">1</span>.<span class="number">02300739</span>,-<span class="number">26</span>.<span class="number">67648125</span>,<span class="number">45</span>.<span class="number">72592545</span>,-<span class="number">41</span>.<span class="number">07115173</span>,-<span class="number">15</span>.<span class="number">41529846</span>,<span class="number">1455</span>.<span class="number">87561</span>,<span class="number">268</span>.<span class="number">4154053</span>,<span class="number">574</span>.<span class="number">6983032</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">21433127</span>,-<span class="number">1</span>.<span class="number">15195727</span>,-<span class="number">26</span>.<span class="number">62742043</span>,<span class="number">45</span>.<span class="number">64493942</span>,-<span class="number">41</span>.<span class="number">24930191</span>,-<span class="number">15</span>.<span class="number">33370686</span>,<span class="number">1458</span>.<span class="number">096802</span>,<span class="number">264</span>.<span class="number">3443298</span>,<span class="number">572</span>.<span class="number">6964722</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">31202319</span>,-<span class="number">1</span>.<span class="number">22743583</span>,-<span class="number">26</span>.<span class="number">59846497</span>,<span class="number">45</span>.<span class="number">59809494</span>,-<span class="number">41</span>.<span class="number">35301208</span>,-<span class="number">15</span>.<span class="number">28658581</span>,<span class="number">1459</span>.<span class="number">392944</span>,<span class="number">261</span>.<span class="number">9689026</span>,<span class="number">571</span>.<span class="number">5285645</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">47910076</span>,-<span class="number">1</span>.<span class="number">35722435</span>,-<span class="number">26</span>.<span class="number">54826355</span>,<span class="number">45</span>.<span class="number">51836777</span>,-<span class="number">41</span>.<span class="number">53038788</span>,-<span class="number">15</span>.<span class="number">20662689</span>,<span class="number">1461</span>.<span class="number">614624</span>,<span class="number">257</span>.<span class="number">8968201</span>,<span class="number">569</span>.<span class="number">5262451</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">57634461</span>,-<span class="number">1</span>.<span class="number">43317449</span>,-<span class="number">26</span>.<span class="number">51864624</span>,<span class="number">45</span>.<span class="number">47224808</span>,-<span class="number">41</span>.<span class="number">63362122</span>,-<span class="number">15</span>.<span class="number">16045284</span>,<span class="number">1462</span>.<span class="number">910889</span>,<span class="number">255</span>.<span class="number">521225</span>,<span class="number">568</span>.<span class="number">3581543</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">74264199</span>,-<span class="number">1</span>.<span class="number">56375742</span>,-<span class="number">26</span>.<span class="number">46731567</span>,<span class="number">45</span>.<span class="number">39375305</span>,-<span class="number">41</span>.<span class="number">81016541</span>,-<span class="number">15</span>.<span class="number">08209801</span>,<span class="number">1465</span>.<span class="number">132568</span>,<span class="number">251</span>.<span class="number">4491119</span>,<span class="number">566</span>.<span class="number">355835</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">0</span>.<span class="number">83942902</span>,-<span class="number">1</span>.<span class="number">64016712</span>,-<span class="number">26</span>.<span class="number">43704033</span>,<span class="number">45</span>.<span class="number">34833908</span>,-<span class="number">41</span>.<span class="number">91290665</span>,-<span class="number">15</span>.<span class="number">03684616</span>,<span class="number">1466</span>.<span class="number">428833</span>,<span class="number">249</span>.<span class="number">0735321</span>,<span class="number">565</span>.<span class="number">1878052</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">1</span>.<span class="number">00494194</span>,-<span class="number">1</span>.<span class="number">77153146</span>,-<span class="number">26</span>.<span class="number">38458061</span>,<span class="number">45</span>.<span class="number">27103424</span>,-<span class="number">42</span>.<span class="number">08860397</span>,-<span class="number">14</span>.<span class="number">96004868</span>,<span class="number">1468</span>.<span class="number">650513</span>,<span class="number">245</span>.<span class="number">0014191</span>,<span class="number">563</span>.<span class="number">1854858</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">1</span>.<span class="number">1012702</span>,-<span class="number">1</span>.<span class="number">84839332</span>,-<span class="number">26</span>.<span class="number">35364723</span>,<span class="number">45</span>.<span class="number">22629929</span>,-<span class="number">42</span>.<span class="number">19085312</span>,-<span class="number">14</span>.<span class="number">91569138</span>,<span class="number">1469</span>.<span class="number">946777</span>,<span class="number">242</span>.<span class="number">625824</span>,<span class="number">562</span>.<span class="number">0174561</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;,</span></span><br><span class="line"><span class="template-variable">&#123;<span class="number">3</span>.<span class="number">34794617</span>,-<span class="number">10</span>.<span class="number">58260822</span>,<span class="number">8</span>.<span class="number">23197365</span>,-<span class="number">1</span>.<span class="number">26599526</span>,-<span class="number">1</span>.<span class="number">98052692</span>,-<span class="number">26</span>.<span class="number">30005836</span>,<span class="number">45</span>.<span class="number">15014267</span>,-<span class="number">42</span>.<span class="number">36568832</span>,-<span class="number">14</span>.<span class="number">84040546</span>,<span class="number">1472</span>.<span class="number">168579</span>,<span class="number">238</span>.<span class="number">5537109</span>,<span class="number">560</span>.<span class="number">0151367</span>,<span class="number">121</span>.<span class="number">972</span>,<span class="number">66</span>.<span class="number">6175</span>,<span class="number">93</span>.<span class="number">079</span>&#125;&#125;</span><span class="language-xml">;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">int main(int argc, char* argv[]) &#123;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  const int jointNum = 9;</span></span><br><span class="line"><span class="language-xml">  const int dataInputNumber = 10;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  const double theta[jointNum] = &#123;0, 0, 0,  0,   90,  0,   -90,     0, -90&#125;;</span></span><br><span class="line"><span class="language-xml">  const double d[jointNum] =     &#123;0, 0, 0,  0,    0,  0,  1500, 108.5,  87&#125;;</span></span><br><span class="line"><span class="language-xml">  const double a[jointNum] =     &#123;0, 0, 0,  0, 1400,  0,     0,     0,   0&#125;;</span></span><br><span class="line"><span class="language-xml">  const double alpha[jointNum] = &#123;0, 0, 0, 90,    0, 90,    70,   -70,   0&#125;;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  double tool_x=100, tool_y=101, tool_z=102;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  double low[jointNum] =   &#123;3.34794617-1e-5,-10.58260822-1e-5,8.23197365-1e-5, -180*deg2rad, -180*deg2rad, -160*deg2rad, -180*deg2rad, -180*deg2rad, -360*deg2rad&#125;;</span></span><br><span class="line"><span class="language-xml">  double upper[jointNum] = &#123;3.34794617,-10.58260822,8.23197365,  100*deg2rad,  180*deg2rad,  160*deg2rad,  180*deg2rad,  180*deg2rad,  360*deg2rad&#125;;</span></span><br><span class="line"><span class="language-xml">  double input_qt[dataInputNumber][jointNum];</span></span><br><span class="line"><span class="language-xml">  double qc[dataInputNumber][jointNum];</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  // TRAC_IK 求解需要限定求解最大时间以及阈值（所求出的关节角度正解后与期望的法兰位置对比的偏差）</span></span><br><span class="line"><span class="language-xml">  double thr = 1e-5;</span></span><br><span class="line"><span class="language-xml">  double maxTime = 5e-5;</span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  Chain eft_robot;</span></span><br><span class="line"><span class="language-xml">  eft_robot.addRigidBody(RigidBody(&quot;base_link&quot;));</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    eft_robot.addRigidBody(RigidBody(Joint(Joint::TransX),</span></span><br><span class="line"><span class="language-xml">                                 Frame::DH(a[0], alpha[0], d[0], theta[0])));</span></span><br><span class="line"><span class="language-xml">    eft_robot.addRigidBody(RigidBody(Joint(Joint::TransY),</span></span><br><span class="line"><span class="language-xml">                                 Frame::DH(a[1], alpha[1], d[1], theta[1])));</span></span><br><span class="line"><span class="language-xml">    eft_robot.addRigidBody(RigidBody(Joint(Joint::TransZ),</span></span><br><span class="line"><span class="language-xml">                                 Frame::DH(a[2], alpha[2], d[2], theta[2])));</span></span><br><span class="line"><span class="language-xml">    for (int i = 3; i &lt; jointNum; i++) &#123;</span></span><br><span class="line"><span class="language-xml">      eft_robot.addRigidBody(RigidBody(Joint(Joint::RotZ),</span></span><br><span class="line"><span class="language-xml">                                   Frame::DH(a[i], alpha[i], d[i], theta[i])));</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  PosJ qLow(eft_robot.getJointNumbers());</span></span><br><span class="line"><span class="language-xml">  PosJ qUpper(eft_robot.getJointNumbers());</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  for (int i = 0; i &lt; eft_robot.getJointNumbers(); i++) &#123;</span></span><br><span class="line"><span class="language-xml">    qLow(i) = low[i];</span></span><br><span class="line"><span class="language-xml">    qUpper(i) = upper[i];</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  double input_qj[500][jointNum];</span></span><br><span class="line"><span class="language-xml">  for (int i = 0; i &lt; 500; i++) &#123;</span></span><br><span class="line"><span class="language-xml">    for(int j = 0; j &lt; 3; j++) &#123;</span></span><br><span class="line"><span class="language-xml">		input_qj[i][j] = GR1650RobotData[i][j];</span></span><br><span class="line"><span class="language-xml">	&#125;	</span></span><br><span class="line"><span class="language-xml">	for (int k = 3; k &lt; jointNum; k++)&#123;</span></span><br><span class="line"><span class="language-xml">        input_qj[i][k] = GR1650RobotData[i][k] * deg2rad;</span></span><br><span class="line"><span class="language-xml">	&#125;</span></span><br><span class="line"><span class="language-xml">	for (int m = 0; m &lt; 6; m++)&#123;</span></span><br><span class="line"><span class="language-xml">		input_qt[i][m] = GR1650RobotData[i][m+jointNum];</span></span><br><span class="line"><span class="language-xml">	&#125;</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  ChainFkSolverPos_recursive fksolver(eft_robot);</span></span><br><span class="line"><span class="language-xml">  PosJ q(eft_robot.getJointNumbers());</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  Frame flangeFrame;</span></span><br><span class="line"><span class="language-xml">  // test it cost time;</span></span><br><span class="line"><span class="language-xml">  double aa, bb, cc;</span></span><br><span class="line"><span class="language-xml">  double A, B, C;</span></span><br><span class="line"><span class="language-xml">  double fkRes[6];</span></span><br><span class="line"><span class="language-xml">  auto fk_start = std::chrono::high_resolution_clock::now();</span></span><br><span class="line"><span class="language-xml">  const int LOOP_NUMBER = 200;</span></span><br><span class="line"><span class="language-xml">  const int COMPUTER_COUNT = dataInputNumber * LOOP_NUMBER;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  for (int k = 0; k &lt; LOOP_NUMBER; k++) &#123;</span></span><br><span class="line"><span class="language-xml">	  for (int i = 0; i &lt; dataInputNumber; i++) &#123;</span></span><br><span class="line"><span class="language-xml">		  for (int j = 0; j &lt; jointNum; j++) &#123;</span></span><br><span class="line"><span class="language-xml">			q(j) = input_qj[i][j];</span></span><br><span class="line"><span class="language-xml">		  &#125;</span></span><br><span class="line"><span class="language-xml">		  fksolver.fk(q, flangeFrame);</span></span><br><span class="line"><span class="language-xml">	  &#125;</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  auto fk_end = std::chrono::high_resolution_clock::now();</span></span><br><span class="line"><span class="language-xml">  auto fk_duration = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(fk_end - fk_start);</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  double fk_sol_time = fk_duration.count() * 1.0 / COMPUTER_COUNT;</span></span><br><span class="line"><span class="language-xml">  std::cout &lt;&lt; &quot;正解函数执行耗时: &quot; &lt;&lt; fk_sol_time &lt;&lt; &quot; 微秒&quot; &lt;&lt; std::endl;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  PosJ qInit(eft_robot.getJointNumbers());</span></span><br><span class="line"><span class="language-xml">  auto ik_start = std::chrono::high_resolution_clock::now();</span></span><br><span class="line"><span class="language-xml">  OPTIMAL_IK::OPTIMAL_IK ik_solver_trac_ik(eft_robot, qLow, qUpper, maxTime, thr);</span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml">  PosJ result(eft_robot.getJointNumbers());</span></span><br><span class="line"><span class="language-xml">  int rc;</span></span><br><span class="line"><span class="language-xml">  int solFailNumber = 0;</span></span><br><span class="line"><span class="language-xml">  for (int k = 0; k &lt; LOOP_NUMBER; k++) &#123;</span></span><br><span class="line"><span class="language-xml">  std::vector<span class="tag">&lt;<span class="name">double</span>&gt;</span> random_numbers = generateRandomNumbers(jointNum, -10, 10);</span></span><br><span class="line"><span class="language-xml">	  for (int i = 0; i &lt; dataInputNumber; i++) &#123;</span></span><br><span class="line"><span class="language-xml">		  for (int j = 0; j &lt; jointNum; j++) &#123;</span></span><br><span class="line"><span class="language-xml">			q(j) =input_qj[i][j];</span></span><br><span class="line"><span class="language-xml">		  &#125;</span></span><br><span class="line"><span class="language-xml">          fksolver.fk(q, flangeFrame);</span></span><br><span class="line"><span class="language-xml">          for (int m = 0; m &lt; jointNum; m++) &#123;</span></span><br><span class="line"><span class="language-xml">	    	  qInit(m) = input_qj[i][m] + random_numbers[m] * deg2rad;</span></span><br><span class="line"><span class="language-xml">          &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">		  rc = ik_solver_trac_ik.ik(qInit, flangeFrame, result);</span></span><br><span class="line"><span class="language-xml">		  if (rc &lt; 0) &#123;</span></span><br><span class="line"><span class="language-xml">			  solFailNumber += 1;</span></span><br><span class="line"><span class="language-xml">			//return -1;</span></span><br><span class="line"><span class="language-xml">		  &#125;</span></span><br><span class="line"><span class="language-xml">	  &#125;</span></span><br><span class="line"><span class="language-xml">  &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  auto ik_end = std::chrono::high_resolution_clock::now();</span></span><br><span class="line"><span class="language-xml">  auto ik_duration = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(ik_end - ik_start);</span></span><br><span class="line"><span class="language-xml">  double fk_ik_sol_time = ik_duration.count() * 1.0 / COMPUTER_COUNT;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  std::cout &lt;&lt; &quot;逆解失败次数 &quot; &lt;&lt; solFailNumber &lt;&lt; std::endl;</span></span><br><span class="line"><span class="language-xml">  std::cout &lt;&lt; &quot;正解+逆解函数执行耗时: &quot; &lt;&lt; fk_ik_sol_time &lt;&lt; &quot; 微秒&quot; &lt;&lt; std::endl;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  return 0;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="问题及解释"><a href="#问题及解释" class="headerlink" title="问题及解释"></a>问题及解释</h1><h2 id="1-KDL的inverse-Jacobian和TRAC-IK的inverse-Jacobian区别？"><a href="#1-KDL的inverse-Jacobian和TRAC-IK的inverse-Jacobian区别？" class="headerlink" title="1.KDL的inverse Jacobian和TRAC_IK的inverse Jacobian区别？"></a>1.KDL的inverse Jacobian和TRAC_IK的inverse Jacobian区别？</h2><p>TRAC_IK 主要使用了 KDL 的 ChainIkSolverVel_pinv 来计算雅可比矩阵的伪逆，并基于非线性优化库 NLOPT 来进行求解。具体来说，TRAC-IK 结合了 KDL 提供的伪逆方法和 NLOPT 的优化算法，来提高逆运动学求解的效率和成功率。所以并没有新的雅可比求解的方式。</p>
<h2 id="2-KDL中的joint-limit包括哪些？"><a href="#2-KDL中的joint-limit包括哪些？" class="headerlink" title="2.KDL中的joint limit包括哪些？"></a>2.KDL中的joint limit包括哪些？</h2><p>KDL的关节限制仅用于求解的，比如求解带有关节限制情况下，可用KDL中的<code>ChainIkSoverPos_NR_JL</code>来计算；另外提供了锁轴的计算方式, 相关内容可直接去看源码。</p>
<h2 id="3-KDL求解成功率低，你认为主要问题在哪儿？"><a href="#3-KDL求解成功率低，你认为主要问题在哪儿？" class="headerlink" title="3.KDL求解成功率低，你认为主要问题在哪儿？"></a>3.KDL求解成功率低，你认为主要问题在哪儿？</h2><p>个人认为主要问题在于初始猜测、奇异性、关节限制处理、数值稳定性(如迭代次数, 阈值的设定)和运动学链复杂性等因素。</p>
<h2 id="4-TRAC-IK非线性求解中cost-function是什么？约束条件包括哪些？"><a href="#4-TRAC-IK非线性求解中cost-function是什么？约束条件包括哪些？" class="headerlink" title="4.TRAC-IK非线性求解中cost function是什么？约束条件包括哪些？"></a>4.TRAC-IK非线性求解中cost function是什么？约束条件包括哪些？</h2><p>在 TRAC-IK 中，cost function 被定义为机器人位置和姿态（法兰端）与期望目标（如果带有工具参数，需要转到法兰端）之间的误差。</p>
<p>约束条件只有关节限制，通过成本函数与约束条件限制，然后调用开源的非线性优化求解器NLOPT来进行求解。</p>
<h1 id="Gazebo-仿真部分"><a href="#Gazebo-仿真部分" class="headerlink" title="Gazebo 仿真部分"></a>Gazebo 仿真部分</h1><h2 id="ERROR-cannot-launch-node-of-type-robot-state-publisher-state-publisher-解决方法"><a href="#ERROR-cannot-launch-node-of-type-robot-state-publisher-state-publisher-解决方法" class="headerlink" title="ERROR: cannot launch node of type [robot_state_publisher/state_publisher]:解决方法"></a>ERROR: cannot launch node of type [robot_state_publisher/state_publisher]:解决方法</h2><p>解决方法为修改/launch/display.launch文件中的 robot_state_publisher节点的 type为“robot_state_publisher”即可。</p>
<h2 id="demo-gazebo无法启动"><a href="#demo-gazebo无法启动" class="headerlink" title="demo_gazebo无法启动"></a>demo_gazebo无法启动</h2><p>所报的问题如下</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Error </span>[parser.cc:488] parse as old deprecated model file failed.</span><br><span class="line"><span class="keyword">Error </span>Code 4 Msg: Required attribute[filename] in element[plugin] is not specified in SDF.</span><br><span class="line"><span class="keyword">Error </span>Code 8 Msg: Error reading element &lt;plugin&gt;</span><br><span class="line"><span class="keyword">Error </span>Code 8 Msg: Error reading element &lt;model&gt;</span><br><span class="line"><span class="keyword">Error </span>Code 8 Msg: Error reading element &lt;sdf&gt;</span><br></pre></td></tr></table></figure>
<p>解决方式，屏蔽掉相关代码，参考如下</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transmission</span> <span class="attr">name</span>=<span class="string">&quot;trans_joint_6&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">type</span>&gt;</span>transmission_interface/SimpleTransmission<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">joint</span> <span class="attr">name</span>=<span class="string">&quot;joint_6&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">hardwareInterface</span>&gt;</span>hardware_interface/EffortJointInterface<span class="tag">&lt;/<span class="name">hardwareInterface</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">joint</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">actuator</span> <span class="attr">name</span>=<span class="string">&quot;joint_6_motor&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">hardwareInterface</span>&gt;</span>hardware_interface/EffortJointInterface<span class="tag">&lt;/<span class="name">hardwareInterface</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">mechanicalReduction</span>&gt;</span>1<span class="tag">&lt;/<span class="name">mechanicalReduction</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">actuator</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">transmission</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">gazebo</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">          &lt;plugin name=&quot;gazebo_ros_control&quot;&gt;</span></span><br><span class="line"><span class="comment">              &lt;robotNamespace&gt;/&lt;/robotNamespace&gt;</span></span><br><span class="line"><span class="comment">          &lt;/plugin&gt;</span></span><br><span class="line"><span class="comment">          --&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">gazebo</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>但是屏蔽掉后，无法在gazebo中做控制, 最后还是要对此部分内容做修改， 加入PID参数等。</p>
<h2 id="gazebo仿真掉轴"><a href="#gazebo仿真掉轴" class="headerlink" title="gazebo仿真掉轴"></a>gazebo仿真掉轴</h2><h3 id="排查是否由于使用solidworks导出文件有误"><a href="#排查是否由于使用solidworks导出文件有误" class="headerlink" title="排查是否由于使用solidworks导出文件有误"></a>排查是否由于使用solidworks导出文件有误</h3><p>在gazebo中将重力(gravity)关闭，观察机器人是否正常起立, 若能正常起立，则为ros_gazebo_control部分没有配置好；ros_gazebo_control的控制参数形式如下：</p>
<p><img src="/img/postImg/1_ros/KDL/gazebo_simulation/control_parameters_vie.png" alt=""></p>
<p>其中<code>i_clamp</code>为积分限幅（相当于死区控制），防止积分项过度累积，导致控制器输出不稳定的影响；</p>
<h1 id="找不到要链接的动态链接库路径"><a href="#找不到要链接的动态链接库路径" class="headerlink" title="找不到要链接的动态链接库路径"></a>找不到要链接的动态链接库路径</h1><p>编译正常，但是运行的时候会报出如下的错误</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">error </span>while loading shared libraries: liborocos-kdl.so.1.5: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>
<p>那么在编译时需指明运行时链接的库的位置，参考代码如下所示(l为小写的L，且-Wl逗号后面不能有空格)</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">g++ <span class="selector-tag">main</span><span class="selector-class">.cpp</span> -lorocos-kdl -Wl,<span class="attr">--rpath</span>=/usr/local/lib</span><br></pre></td></tr></table></figure>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>在安装了ROS的情况下，KDL库的相关路径已经被添加到环境变量中，则可以直接链接，否则需要给出库的完整路径，此外，若有添加库路径到环境变量中的方法，应该也可以实现仅给出库的名称而不列出完整路径</p>
<h1 id="其他未归类事项"><a href="#其他未归类事项" class="headerlink" title="其他未归类事项"></a>其他未归类事项</h1><p>建立软连接（用于自己修改KDL源码并在ROS中仿真）：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo ln -s <span class="regexp">/usr/</span>local<span class="regexp">/lib/</span>liborocos-kdl-models.so <span class="regexp">/usr/</span>local<span class="regexp">/include/</span></span><br></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>[1] <a target="_blank" rel="noopener" href="https://github.com/SarvagyaVaish/Orocos-KDL-Forward-Kinematics">Orocos-KDL-Forward-Kinematics</a></p>
<p>[2] <a target="_blank" rel="noopener" href="https://www.guyuehome.com/37371">机器人KDL库（Kinematic Solvers）</a></p>
<p>[3] <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43956732/article/details/106908452">PyKDL—-运动段、运动链和运动树</a></p>

            </div>



</div>

   <div class="tag-cloud-tags">
    <a href="/tags/CMakeLists/" style="font-size: 10px; color: #f38181">CMakeLists</a> <a href="/tags/Eigen/" style="font-size: 10px; color: #f38181">Eigen</a> <a href="/tags/FCPX/" style="font-size: 10px; color: #f38181">FCPX</a> <a href="/tags/GNU/" style="font-size: 10px; color: #f38181">GNU</a> <a href="/tags/Gazebo/" style="font-size: 10px; color: #f38181">Gazebo</a> <a href="/tags/Git/" style="font-size: 10px; color: #f38181">Git</a> <a href="/tags/Interest/" style="font-size: 10px; color: #f38181">Interest</a> <a href="/tags/KDL/" style="font-size: 11px; color: #ea8b89">KDL</a> <a href="/tags/Life/" style="font-size: 10px; color: #f38181">Life</a> <a href="/tags/Linux/" style="font-size: 11px; color: #ea8b89">Linux</a> <a href="/tags/Matrix/" style="font-size: 10px; color: #f38181">Matrix</a> <a href="/tags/ODE/" style="font-size: 10px; color: #f38181">ODE</a> <a href="/tags/ROS/" style="font-size: 13px; color: #d79e9a">ROS</a> <a href="/tags/Ros/" style="font-size: 10px; color: #f38181">Ros</a> <a href="/tags/UML/" style="font-size: 10px; color: #f38181">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px; color: #f38181">Ubuntu</a> <a href="/tags/VcXsrv/" style="font-size: 10px; color: #f38181">VcXsrv</a> <a href="/tags/algorithm/" style="font-size: 10px; color: #f38181">algorithm</a> <a href="/tags/algorithms/" style="font-size: 10px; color: #f38181">algorithms</a> <a href="/tags/axis-angle/" style="font-size: 10px; color: #f38181">axis-angle</a> <a href="/tags/bode/" style="font-size: 10px; color: #f38181">bode</a> <a href="/tags/calibration/" style="font-size: 10px; color: #f38181">calibration</a> <a href="/tags/chrome/" style="font-size: 10px; color: #f38181">chrome</a> <a href="/tags/control/" style="font-size: 14px; color: #cda7a2">control</a> <a href="/tags/cpp/" style="font-size: 18px; color: #a8cec3">cpp</a> <a href="/tags/dB/" style="font-size: 10px; color: #f38181">dB</a> <a href="/tags/data-struct/" style="font-size: 10px; color: #f38181">data_struct</a> <a href="/tags/dots/" style="font-size: 16px; color: #bbbbb2">dots</a> <a href="/tags/figure/" style="font-size: 10px; color: #f38181">figure</a> <a href="/tags/gdb/" style="font-size: 10px; color: #f38181">gdb</a> <a href="/tags/latex/" style="font-size: 11px; color: #ea8b89">latex</a> <a href="/tags/launch/" style="font-size: 10px; color: #f38181">launch</a> <a href="/tags/life/" style="font-size: 17px; color: #b1c4ba">life</a> <a href="/tags/linux/" style="font-size: 18px; color: #a8cec3">linux</a> <a href="/tags/mac/" style="font-size: 10px; color: #f38181">mac</a> <a href="/tags/math/" style="font-size: 14px; color: #cda7a2">math</a> <a href="/tags/matlab/" style="font-size: 12px; color: #e09491">matlab</a> <a href="/tags/memory/" style="font-size: 15px; color: #c4b1aa">memory</a> <a href="/tags/motor/" style="font-size: 11px; color: #ea8b89">motor</a> <a href="/tags/moveit/" style="font-size: 10px; color: #f38181">moveit</a> <a href="/tags/operator/" style="font-size: 10px; color: #f38181">operator</a> <a href="/tags/optimal-algorithm/" style="font-size: 10px; color: #f38181">optimal algorithm</a> <a href="/tags/python/" style="font-size: 16px; color: #bbbbb2">python</a> <a href="/tags/robot/" style="font-size: 13px; color: #d79e9a">robot</a> <a href="/tags/robotics/" style="font-size: 13px; color: #d79e9a">robotics</a> <a href="/tags/ros/" style="font-size: 15px; color: #c4b1aa">ros</a> <a href="/tags/ros2/" style="font-size: 11px; color: #ea8b89">ros2</a> <a href="/tags/rtb/" style="font-size: 10px; color: #f38181">rtb</a> <a href="/tags/simulation/" style="font-size: 11px; color: #ea8b89">simulation</a> <a href="/tags/stl/" style="font-size: 10px; color: #f38181">stl</a> <a href="/tags/thread/" style="font-size: 10px; color: #f38181">thread</a> <a href="/tags/tools/" style="font-size: 19px; color: #9ed7cb">tools</a> <a href="/tags/twist/" style="font-size: 10px; color: #f38181">twist</a> <a href="/tags/urdf/" style="font-size: 10px; color: #f38181">urdf</a> <a href="/tags/velocity/" style="font-size: 10px; color: #f38181">velocity</a> <a href="/tags/vim/" style="font-size: 14px; color: #cda7a2">vim</a> <a href="/tags/web/" style="font-size: 10px; color: #f38181">web</a> <a href="/tags/work/" style="font-size: 20px; color: #95e1d3">work</a> <a href="/tags/wsl/" style="font-size: 10px; color: #f38181">wsl</a>
</div>



<div align="center"> 
    <li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow noopener" target="_blank" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议">



        </div>
    </div>
</body>


</html>
