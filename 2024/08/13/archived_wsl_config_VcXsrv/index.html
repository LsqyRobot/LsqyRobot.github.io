<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/favicon.ico"/>
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM" />
    <link rel="stylesheet" href="/css/lsqy_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot" />
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/myCover.png') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>
		


<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<body class="is-loading">
    <div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/ALGORITHM/">ALGORITHM</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/CONFIG/">CONFIG</a></li><li><a class="category-link" href="/categories/CONTROL/">CONTROL</a></li><li><a class="category-link" href="/categories/CPP/">CPP</a></li><li><a class="category-link" href="/categories/GIT/">GIT</a></li><li><a class="category-link" href="/categories/HEXO/">HEXO</a></li><li><a class="category-link" href="/categories/LATEX/">LATEX</a></li><li><a class="category-link" href="/categories/LIFE/">LIFE</a></li><li><a class="category-link" href="/categories/LINUX/">LINUX</a></li><li><a class="category-link" href="/categories/MAC-BOOK/">MAC BOOK</a></li><li><a class="category-link" href="/categories/MATLAB/">MATLAB</a></li><li><a class="category-link" href="/categories/PYTHON/">PYTHON</a></li><li><a class="category-link" href="/categories/ROBOTICS/">ROBOTICS</a></li><li><a class="category-link" href="/categories/ROS/">ROS</a></li><li><a class="category-link" href="/categories/TOOLS/">TOOLS</a></li><li><a class="category-link" href="/categories/dataStruct/">dataStruct</a></li><li><a class="category-link" href="/categories/robotics/">robotics</a>
	                    </ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/" ><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/" ><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/" ><img src="/img/quote.png"></a>
	        
			</li>


	        <!-- about 关于搜索栏   --> 
			<li>
	        
	            <a href="/search/" ><img src="/img/search.png"></a>
	        
			</li>



	        <!-- my lover--> 
			<li>
	        
	            <a href="/dudu/" ><img src="/img/myLoverLogo.png"></a>
	        
			</li>

	        <!-- my tags--> 
			<li>
	        
			</li>


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/46_config/1_wsl/logo/forest-8661369_1280_used.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >在wsl上配置VcXsrv</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#目的">目的</a></li>
<li><a href="#安装-wsl-和-ubuntu">安装 WSL 和 Ubuntu</a><ul>
<li><a href="#安装并配置-vcxsrv">安装并配置 VcXsrv</a></li>
<li><a href="#在-wsl-ubuntu-中配置-x-server">在 WSL Ubuntu 中配置 X Server</a></li>
<li><a href="#测试图形界面">测试图形界面</a></li>
<li><a href="#通过控制面板设置防火墙">通过控制面板设置防火墙</a></li>
<li><a href="#使用高级防火墙设置">使用高级防火墙设置</a></li>
<li><a href="#检查设置">检查设置</a></li>
</ul>
</li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h1><p>在windows的虚拟机上跑ros， 问了chatGPT后搞通了，记录一下这个过程；</p>
<h1 id="安装-WSL-和-Ubuntu"><a href="#安装-WSL-和-Ubuntu" class="headerlink" title="安装 WSL 和 Ubuntu"></a>安装 WSL 和 Ubuntu</h1><p>1, 在 Windows 上启用 WSL：</p>
<p>&bull; 打开 PowerShell 以管理员身份运行，并执行以下命令：</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">wsl <span class="comment">--install</span></span><br></pre></td></tr></table></figure>
<p>&bull; 这会安装 WSL 和 Ubuntu。如果你已经安装了 WSL，可以跳过这一步。</p>
<p>2, 从 Microsoft Store 安装 Ubuntu：</p>
<p>  &bull; 打开 Microsoft Store，搜索并安装你需要的 Ubuntu 版本（如 Ubuntu 20.04 或 22.04）。</p>
<h2 id="安装并配置-VcXsrv"><a href="#安装并配置-VcXsrv" class="headerlink" title="安装并配置 VcXsrv"></a>安装并配置 VcXsrv</h2><p>1, 下载并安装 VcXsrv：<br>  &bull; 从 VcXsrv 官方网站下载并安装 VcXsrv。<br>2, 配置 VcXsrv：<br>  &bull; 打开 VcXsrv，选择 “Multiple windows” 模式。<br>  &bull; 勾选 “Disable access control” 选项以允许所有连接。<br>  &bull; 点击 “Next” 并完成配置。</p>
<h2 id="在-WSL-Ubuntu-中配置-X-Server"><a href="#在-WSL-Ubuntu-中配置-X-Server" class="headerlink" title="在 WSL Ubuntu 中配置 X Server"></a>在 WSL Ubuntu 中配置 X Server</h2><p>1, <strong>安装必要的图形界面组件：</strong></p>
<p>  &bull; 打开 WSL 终端并执行以下命令安装 </p>
<figure class="highlight llvm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">x</span><span class="number">11</span>-apps</span><br></pre></td></tr></table></figure>
<p>用于测试 X11 转发：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install x11-apps</span><br></pre></td></tr></table></figure>
<p>2, <strong>配置 DISPLAY 环境变量：</strong></p>
<p>  &bull; 你需要设置 </p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">DISPLAY</span></span><br></pre></td></tr></table></figure>
<p>环境变量，让 WSL 能够找到运行中的 VcXsrv。执行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export DISPLAY=<span class="subst">$(grep nameserver /etc/resolv.conf | awk &#x27;&#123;print $2&#125;&#x27;)</span>:0&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>
<p>&bull; 如果你使用的是 WSL2，可能需要使用 </p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">localhost</span></span><br></pre></td></tr></table></figure>
<p>替代 </p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">grep</span></span><br></pre></td></tr></table></figure>
<p>语句：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export DISPLAY=localhost:0&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line">  <span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>
<h2 id="测试图形界面"><a href="#测试图形界面" class="headerlink" title="测试图形界面"></a>测试图形界面</h2><p>1, <strong>测试 X11 转发：</strong></p>
<p>  &bull; 在 WSL 终端中执行以下命令：</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">xclock</span></span><br></pre></td></tr></table></figure>
<p>  &bull; 如果一切正常，你应该会看到一个时钟窗口弹出。</p>
<p>2, <strong>运行其他图形界面应用：</strong></p>
<p>  &bull; 你可以安装并运行其他 GUI 应用，比如 <code>gedit</code> 或 <code>firefox</code>，来确认图形界面的功能。</p>
<p>完成这些步骤后，你应该能够在 WSL 中使用 Ubuntu，并通过 VcXsrv 连接和使用图形界面应用。如果遇到问题，可以检查防火墙设置，确保 VcXsrv 的端口未被阻止。</p>
<p><code>但是我通过上述步骤并没能实现小时钟的出现，根据提示信息，设置防火墙等相关事项，回答如下：</code></p>
<p>在 Windows 上，你可以通过以下步骤来配置防火墙，确保 VcXsrv 的端口未被阻止：</p>
<h2 id="通过控制面板设置防火墙"><a href="#通过控制面板设置防火墙" class="headerlink" title="通过控制面板设置防火墙"></a>通过控制面板设置防火墙</h2><p>1, <strong>打开 Windows 防火墙设置：</strong></p>
<p>  &bull; 按 <code>Windows + R</code> 打开运行对话框，输入 <code>control</code> 并按回车，打开控制面板。</p>
<p>  &bull; 在控制面板中，选择 “系统和安全 (System and Security)”，然后点击 “Windows Defender 防火墙 (Windows Defender Firewall)”。</p>
<p>2, <strong>允许应用通过防火墙：</strong></p>
<p>  &bull; 在左侧菜单中，点击 “允许应用或功能通过 Windows Defender 防火墙 (Allow an app or feature through Windows Defender Firewall)”。</p>
<p>3, <strong>查找并添加 VcXsrv：</strong></p>
<p>  &bull; 在列表中查找 “VcXsrv” 或 “X Server” 应用程序。如果没有列出，你需要手动添加：</p>
<p>  &bull; 点击 “更改设置 (Change settings)”，然后点击 “允许其他应用 (Allow another app) ”。</p>
<p>  &bull; 点击 “浏览 (Browse)”，导航到 VcXsrv 的安装目录（通常在 <code>C:\Program Files\VcXsrv\</code>），选择 <code>vcxsrv.exe</code>。</p>
<p>  &bull; 点击 “添加 (Add)” 然后确保为 “专用 (Private)” 和 “公用 (Public)” 网络勾选。</p>
<p>4, <strong>确认并保存设置：</strong></p>
<p>  &bull; 点击 “确定 (OK)” 以保存更改。</p>
<h2 id="使用高级防火墙设置"><a href="#使用高级防火墙设置" class="headerlink" title="使用高级防火墙设置"></a>使用高级防火墙设置</h2><p>如果你需要手动开放端口，可以使用高级防火墙设置：</p>
<p>1, <strong>打开高级安全 Windows Defender 防火墙：</strong></p>
<p>  &bull; 在防火墙主界面中，点击左侧的 “高级设置 (Advanced settings)”。</p>
<p>2, <strong>创建入站规则：</strong></p>
<p>  &bull; 在左侧的 “入站规则 (Inbound Rules)” 上点击右键，选择 “新建规则 (New Rule)”。</p>
<p>  &bull; 选择 “端口 (Port)” 然后点击 “下一步 (Next)”。</p>
<p>  &bull; 在特定本地端口中输入 <code>6000</code>（这是 X11 默认使用的端口），然后点击 “下一步 (Next)”。</p>
<p>  &bull; 选择 “允许连接 (Allow the connection)” 并点击 “下一步 (Next)”。</p>
<p>  &bull; 选择适用的网络类型（专用、域和公用），然后点击 “下一步 (Next)”。</p>
<p>  &bull; 为此规则命名（例如 “VcXsrv X11 Port”），然后点击 “完成 (Finish)”。</p>
<h2 id="检查设置"><a href="#检查设置" class="headerlink" title="检查设置"></a>检查设置</h2><p>配置完成后，确保 VcXsrv 运行时不被防火墙阻止。可以通过运行 X11 应用如 <code>xclock</code> 来确认防火墙配置是否正确。</p>
<p>这些步骤应该能帮助你正确配置防火墙，确保 VcXsrv 的正常运行。如果你仍然遇到问题，可以考虑暂时关闭防火墙以进行测试，但通常不建议长期关闭防火墙。</p>
<p>看看配置的ros2是否起来了</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">ros2 <span class="built_in">run</span> turtlesim turtle_teleop_key</span><br></pre></td></tr></table></figure>
<p><img src="/img/postImg/46_config/1_wsl/1_install/1_config_wsl_and_run_ros.png" alt=""></p>

            </div>



</div>

   <div class="tag-cloud-tags">
    <a href="/tags/CMakeLists/" style="font-size: 10px; color: #f38181">CMakeLists</a> <a href="/tags/Eigen/" style="font-size: 10px; color: #f38181">Eigen</a> <a href="/tags/FCPX/" style="font-size: 10px; color: #f38181">FCPX</a> <a href="/tags/GNU/" style="font-size: 10px; color: #f38181">GNU</a> <a href="/tags/Gazebo/" style="font-size: 10px; color: #f38181">Gazebo</a> <a href="/tags/Git/" style="font-size: 10px; color: #f38181">Git</a> <a href="/tags/Interest/" style="font-size: 10px; color: #f38181">Interest</a> <a href="/tags/KDL/" style="font-size: 10.91px; color: #ea8a88">KDL</a> <a href="/tags/Life/" style="font-size: 10px; color: #f38181">Life</a> <a href="/tags/Linux/" style="font-size: 10.91px; color: #ea8a88">Linux</a> <a href="/tags/Matrix/" style="font-size: 10px; color: #f38181">Matrix</a> <a href="/tags/ODE/" style="font-size: 10px; color: #f38181">ODE</a> <a href="/tags/QoS/" style="font-size: 10px; color: #f38181">QoS</a> <a href="/tags/ROS/" style="font-size: 12.73px; color: #d99b97">ROS</a> <a href="/tags/Ros/" style="font-size: 10px; color: #f38181">Ros</a> <a href="/tags/UML/" style="font-size: 10px; color: #f38181">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px; color: #f38181">Ubuntu</a> <a href="/tags/VcXsrv/" style="font-size: 10px; color: #f38181">VcXsrv</a> <a href="/tags/algorithm/" style="font-size: 10px; color: #f38181">algorithm</a> <a href="/tags/algorithms/" style="font-size: 10px; color: #f38181">algorithms</a> <a href="/tags/axis-angle/" style="font-size: 10px; color: #f38181">axis-angle</a> <a href="/tags/bode/" style="font-size: 10px; color: #f38181">bode</a> <a href="/tags/calibration/" style="font-size: 10px; color: #f38181">calibration</a> <a href="/tags/chrome/" style="font-size: 10px; color: #f38181">chrome</a> <a href="/tags/control/" style="font-size: 13.64px; color: #d1a49f">control</a> <a href="/tags/cpp/" style="font-size: 17.27px; color: #afc7bd">cpp</a> <a href="/tags/dB/" style="font-size: 10px; color: #f38181">dB</a> <a href="/tags/data-struct/" style="font-size: 10px; color: #f38181">data_struct</a> <a href="/tags/dots/" style="font-size: 15.45px; color: #c0b5ae">dots</a> <a href="/tags/figure/" style="font-size: 10px; color: #f38181">figure</a> <a href="/tags/gdb/" style="font-size: 10px; color: #f38181">gdb</a> <a href="/tags/git/" style="font-size: 10px; color: #f38181">git</a> <a href="/tags/latex/" style="font-size: 10.91px; color: #ea8a88">latex</a> <a href="/tags/launch/" style="font-size: 10px; color: #f38181">launch</a> <a href="/tags/life/" style="font-size: 16.36px; color: #b7beb5">life</a> <a href="/tags/linux/" style="font-size: 18.18px; color: #a6d0c4">linux</a> <a href="/tags/mac/" style="font-size: 10px; color: #f38181">mac</a> <a href="/tags/math/" style="font-size: 14.55px; color: #c8ada6">math</a> <a href="/tags/matlab/" style="font-size: 11.82px; color: #e29290">matlab</a> <a href="/tags/memory/" style="font-size: 14.55px; color: #c8ada6">memory</a> <a href="/tags/motor/" style="font-size: 10.91px; color: #ea8a88">motor</a> <a href="/tags/moveit/" style="font-size: 10px; color: #f38181">moveit</a> <a href="/tags/operator/" style="font-size: 10px; color: #f38181">operator</a> <a href="/tags/optimal-algorithm/" style="font-size: 10px; color: #f38181">optimal algorithm</a> <a href="/tags/python/" style="font-size: 15.45px; color: #c0b5ae">python</a> <a href="/tags/robot/" style="font-size: 12.73px; color: #d99b97">robot</a> <a href="/tags/robotics/" style="font-size: 14.55px; color: #c8ada6">robotics</a> <a href="/tags/ros/" style="font-size: 15.45px; color: #c0b5ae">ros</a> <a href="/tags/ros2/" style="font-size: 11.82px; color: #e29290">ros2</a> <a href="/tags/rtb/" style="font-size: 10px; color: #f38181">rtb</a> <a href="/tags/simulation/" style="font-size: 10.91px; color: #ea8a88">simulation</a> <a href="/tags/stl/" style="font-size: 10px; color: #f38181">stl</a> <a href="/tags/thread/" style="font-size: 10px; color: #f38181">thread</a> <a href="/tags/tools/" style="font-size: 19.09px; color: #9ed8cc">tools</a> <a href="/tags/twist/" style="font-size: 10px; color: #f38181">twist</a> <a href="/tags/urdf/" style="font-size: 10px; color: #f38181">urdf</a> <a href="/tags/velocity/" style="font-size: 10px; color: #f38181">velocity</a> <a href="/tags/vim/" style="font-size: 14.55px; color: #c8ada6">vim</a> <a href="/tags/web/" style="font-size: 10px; color: #f38181">web</a> <a href="/tags/work/" style="font-size: 20px; color: #95e1d3">work</a> <a href="/tags/wsl/" style="font-size: 10px; color: #f38181">wsl</a>
</div>



<div align="center"> 
    <li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow noopener" target="_blank" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议">



        </div>
    </div>
</body>


</html>
