<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/favicon.ico"/>
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM" />
    <link rel="stylesheet" href="/css/lsqy_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot" />
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/myCover.png') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>
		


<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<body class="is-loading">
    <div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/CONFIG/">CONFIG</a></li><li><a class="category-link" href="/categories/CONTROL/">CONTROL</a></li><li><a class="category-link" href="/categories/CPP/">CPP</a></li><li><a class="category-link" href="/categories/GIT/">GIT</a></li><li><a class="category-link" href="/categories/HEXO/">HEXO</a></li><li><a class="category-link" href="/categories/LATEX/">LATEX</a></li><li><a class="category-link" href="/categories/LIFE/">LIFE</a></li><li><a class="category-link" href="/categories/LINUX/">LINUX</a></li><li><a class="category-link" href="/categories/MAC-BOOK/">MAC BOOK</a></li><li><a class="category-link" href="/categories/MATLAB/">MATLAB</a></li><li><a class="category-link" href="/categories/PYTHON/">PYTHON</a></li><li><a class="category-link" href="/categories/ROBOTICS/">ROBOTICS</a></li><li><a class="category-link" href="/categories/ROS/">ROS</a></li><li><a class="category-link" href="/categories/TOOLS/">TOOLS</a></li><li><a class="category-link" href="/categories/dataStruct/">dataStruct</a></li><li><a class="category-link" href="/categories/robotics/">robotics</a>
	                    </ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/" ><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/" ><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/" ><img src="/img/quote.png"></a>
	        
			</li>


	        <!-- about 关于搜索栏   --> 
			<li>
	        
			</li>



	        <!-- my lover--> 
			<li>
	        
	            <a href="/dudu/" ><img src="/img/myLoverLogo.png"></a>
	        
			</li>

	        <!-- my tags--> 
			<li>
	        
			</li>


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/25_gcc/logo/equinox-2194645_1280.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >gcc使用简介</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#前-言">前 言</a></li>
<li><a href="#make-file-的使用">make file 的使用</a></li>
<li><a href="#gdb调试-调试过程极度不爽">gdb调试 (调试过程极度不爽)</a><ul>
<li><a href="#运行">运行</a></li>
<li><a href="#设置断点">设置断点</a></li>
<li><a href="#查看源代码">查看源代码</a></li>
<li><a href="#打印表达式">打印表达式</a></li>
<li><a href="#查询运行信息">查询运行信息</a></li>
<li><a href="#分割窗口">分割窗口</a></li>
</ul>
</li>
<li><a href="#gnu-make-的编写">GNU make 的编写</a></li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="前-言"><a href="#前-言" class="headerlink" title="前 言"></a>前 言</h1><p> <span id="inline-green">编译 </span> 是指把一个是纯文本的源代码的“程序”. 比如 C 或 C++这种编程语言,  转变成机器码,  即用于控制计算机的中央处理单元(CPU)的 1 和 0 的序列。这种机器码被存放在称为可执行文件的文件中,  有时候也被称为二进制文件。</p>
<p>我们假设源代码被存放在“test.c”的文件中。用 gcc 编译“test.c”文件,  可以用下面的命令:</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="keyword">test</span>.c  或者 gcc -Wall <span class="keyword">test</span>.c -o <span class="keyword">test</span></span><br></pre></td></tr></table></figure>
<p>span id=”inline-red”&gt; 说明 &lt;/span&gt; ：“-o”选项可以指定存储机器码的输出文件,  该选项通常是命令行上的最后一个参数。如果省略它,  输出将被写到默认文件“a.out”中;命令行选项“-c”用于把源码文件编译成对象文件。  <span id="inline-green">“-Wall” </span>    选项打开所有最常用到的编译警告。也是可以在 C 编程中发现最常见的错误。 #include “FILE.h”和“#include <FILE.h>”这两种 include 声明形式的含义是有差异的,  前者是先在当前目录搜索“FILE.h”,  然后再查看包含系统头文件的目录。#include <FILE.h>这种 include 声明是搜索系统目录的头文件, 默认情况下不会在当前目录下查找头文件。</p>
<p>当程序被存储在一个个单独的源文件中时, 只有那些修改过源码的文件才需要重新编译。用这种方法, 源文件被分开一个个编译, 然后再链接在一起。 此过程分为两个步骤。在第一阶段, 文件被编译但不生成可执行文件。生成的结果被称为对象文件(obj 文件), 用 GCC 时有“.o”后缀名。在第二阶段, 各个对象文件由一个被称为链接器的单独的程序合成在一起。链接器把所有的对象文件组合在一起生成单个的可执行文件。对象文件包含的是机器码, 其中任何对在其他文件中的函数(或变量)的内存地址的引用都留着没有被解析。这样就允许在互相之间不直接引用的情况下编译各个源代码文件。链接器在生成可执行文件时会填写这些还缺少的地址。</p>
<h1 id="make-file-的使用"><a href="#make-file-的使用" class="headerlink" title="make file 的使用"></a>make file 的使用</h1><p><span id="inline-red"> Makefile </span> 简单的来说是自动化编译的脚本, 在一个大的工程文件中, 各个文件分别放在不同的文件夹中, 一个个的编译起来是十分费事的, 使用这个这个自动化脚本的好处就是只需要一个make命令, 整个工程完全自动编译, 极大的提高了软件开发的效率。而make是一个解释makefile中指令的命令工具, 这个在b站中可以详细的了解到, 不过作者在视频最后有故意贬低vim的意思, 他说的功能, 完全是可以自定义的呀, 所以。。。。没必要, vim还是非常非常优秀的编辑器, 也是个人最喜欢的编辑器(没有之一)。下面就摘抄如下<a target="_blank" rel="noopener" href="https://blog.csdn.net/haoel/article/details/2886">博客</a>的内容, 因为自己的理解太浅, 写起来错误会很多。</p>
<p>源文件首先会生成中间目标文件, 再由中间目标文件生成执行文件。在编译时, 编译器只检测程序语法, 和函数、变量是否被声明。如果函数未被声明, 编译器会给出一个警告, 但可以生成Object File。而在链接程序时, 链接器会在所有的Object File中找寻函数的实现, 如果找不到, 那到就会报链接错误码(Linker Error)。</p>
<p>对于大型工程, 就要用到cmake了(针对c/c++)</p>
<h1 id="gdb调试-调试过程极度不爽"><a href="#gdb调试-调试过程极度不爽" class="headerlink" title="gdb调试 (调试过程极度不爽)"></a>gdb调试 (调试过程极度不爽)</h1><p>该内容搬运与<a target="_blank" rel="noopener" href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html">此</a></p>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>对C/C++程序的调试, 需要在编译前就加上-g选项:</p>
<p>需要说明的如下：</p>
<p>1,  run：简记为 r , 其作用是运行程序, 当遇到断点后, 程序会在断点处停止运行, 等待用户输入下一步的命令。</p>
<p>2,  continue (简写c )：继续执行, 到下一个断点处(或运行结束)</p>
<p>3,  next：(简写 n), 单步跟踪程序, 当遇到函数调用时, 也不进入此函数体；此命令同 step 的主要区别是, step 遇到用户自定义的函数, 将步进到函数中去运行, 而 next 则直接调用函数, 不会进入到函数体内。</p>
<p>4,  step (简写s)：单步调试如果有函数调用, 则进入函数；与命令n不同, n是不进入调用的函数的</p>
<p>5,  until：当你厌倦了在一个循环体内单步跟踪时, 这个命令可以运行程序直到退出循环体。</p>
<p>6,  until+行号： 运行至某行, 不仅仅用来跳出循环</p>
<p>7,  finish： 运行程序, 直到当前函数完成返回, 并打印函数返回时的堆栈地址和返回值及参数值等信息。</p>
<p>8,  call 函数(参数)：调用程序中可见的函数, 并传递“参数”, 如：call gdb_test(55)</p>
<p>9,  quit：简记为 q , 退出gdb</p>
<h2 id="设置断点"><a href="#设置断点" class="headerlink" title="设置断点"></a>设置断点</h2><p>1,  break n (简写b n):在第n行处设置断点</p>
<p>2,  delete 断点号n：删除第n个断点</p>
<p>3,  disable 断点号n：暂停第n个断点</p>
<p>4,  enable 断点号n：开启第n个断点</p>
<p>5,  clear 行号n：清除第n行的断点</p>
<p>6,  info b (info breakpoints) ：显示当前程序的断点设置情况</p>
<p>7,  delete breakpoints：清除所有断点：</p>
<h2 id="查看源代码"><a href="#查看源代码" class="headerlink" title="查看源代码"></a>查看源代码</h2><p>1,  list ：简记为 l , 其作用就是列出程序的源代码, 默认每次显示10行。</p>
<p>2,  list 行号：将显示当前文件以“行号”为中心的前后10行代码, 如：list 12</p>
<p>3,  list 函数名：将显示“函数名”所在函数的源代码, 如：list main</p>
<p>4,  list ：不带参数, 将接着上一次 list 命令的, 输出下边的内容。</p>
<h2 id="打印表达式"><a href="#打印表达式" class="headerlink" title="打印表达式"></a>打印表达式</h2><p>1,   print 表达式：简记为 p , 其中“表达式”可以是任何当前正在被测试程序的有效表达式, 比如当前正在调试C语言的程序, 那么“表达式”可以是任何C语言的有效表达式, 包括数字, 变量甚至是函数调用。</p>
<p>2,   print a：将显示整数 a 的值</p>
<p>3,   print ++a：将把 a 中的值加1, 并显示出来</p>
<p>4,   print name：将显示字符串 name 的值</p>
<p>5,   print gdb_test(22)：将以整数22作为参数调用 gdb_test() 函数</p>
<p>6,   print gdb_test(a)：将以变量 a 作为参数调用 gdb_test() 函数</p>
<p>7,   display 表达式：在单步运行时将非常有用, 使用display命令设置一个表达式后, 它将在每次单步进行指令后, 紧接着输出被设置的表达式及值。如： display a</p>
<p>8,   watch 表达式：设置一个监视点, 一旦被监视的“表达式”的值改变, gdb将强行终止正在被调试的程序。如： watch a</p>
<p>9,   whatis ：查询变量或函数</p>
<p>10,   info function： 查询函数</p>
<p>11,   扩展info locals： 显示当前堆栈页的所有变量</p>
<h2 id="查询运行信息"><a href="#查询运行信息" class="headerlink" title="查询运行信息"></a>查询运行信息</h2><p>1,  where/bt ：当前运行的堆栈列表；</p>
<p>2,  bt backtrace 显示当前调用堆栈</p>
<p>3,  up/down 改变堆栈显示的深度</p>
<p>4,  set args 参数:指定运行时的参数</p>
<p>5,  show args：查看设置好的参数</p>
<p>6,  info program： 来查看程序的是否在运行, 进程号, 被暂停的原因。</p>
<h2 id="分割窗口"><a href="#分割窗口" class="headerlink" title="分割窗口"></a>分割窗口</h2><p>1,  layout：用于分割窗口, 可以一边查看代码, 一边测试：</p>
<p>2,  layout src：显示源代码窗口</p>
<p>3,  layout asm：显示反汇编窗口</p>
<p>4,  layout regs：显示源代码/反汇编和CPU寄存器窗口</p>
<p>5,  layout split：显示源代码和反汇编窗口</p>
<p>6,  Ctrl + L：刷新窗口</p>
<h1 id="GNU-make-的编写"><a href="#GNU-make-的编写" class="headerlink" title="GNU make 的编写"></a>GNU make 的编写</h1><p>把之前写的内容给删掉了,  换成chatGPT给我的答案会更容易理解一些</p>
<p>Makefile是一种用于自动化构建和编译软件的工具。以下是编写一个简单Makefile的步骤：</p>
<p>1,  决定需要编译的源文件和生成的目标文件。比如, 你可能有一个源文件main.c和一个库文件lib.c, 需要编译成目标文件main.o和lib.o。</p>
<p>2,  确定编译器和编译选项。比如, 你可能要使用GCC编译器, 并且需要加上-Wall和-O2选项。</p>
<p>3,  定义目标和依赖关系。例如, 你的目标可能是生成可执行文件app, 它依赖于main.o和lib.o。你可以在Makefile中使用规则来描述这些依赖关系：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">vbnetCopy <span class="selector-tag">code</span></span><br><span class="line">app: <span class="selector-tag">main</span><span class="selector-class">.o</span> lib<span class="selector-class">.o</span></span><br><span class="line">	gcc -o app <span class="selector-tag">main</span><span class="selector-class">.o</span> lib.o</span><br></pre></td></tr></table></figure>
<p>4,  对于每个源文件, 定义其对应的编译规则。例如, 你可能需要为main.c和lib.c编写如下规则：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">lessCopy <span class="selector-tag">code</span></span><br><span class="line"><span class="selector-tag">main</span><span class="selector-class">.o</span>: <span class="selector-tag">main</span><span class="selector-class">.c</span></span><br><span class="line">	gcc -c <span class="selector-tag">main</span><span class="selector-class">.c</span></span><br><span class="line"></span><br><span class="line">lib<span class="selector-class">.o</span>: lib<span class="selector-class">.c</span></span><br><span class="line">	gcc -c lib.c</span><br></pre></td></tr></table></figure>
<p>其中, -c选项表示编译成目标文件而不是可执行文件。</p>
<p>5, 最后, 你可以定义一些伪目标(.PHONY), 以便在命令行中执行。例如, 你可以定义一个名为clean的伪目标, 用于删除生成的目标文件：</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">makefileCopy code</span><br><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: clean</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -f *.o app</span><br></pre></td></tr></table></figure>
<p>完整的Makefile代码如下：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">makefileCopy <span class="selector-tag">code</span></span><br><span class="line">CC = gcc</span><br><span class="line">CFLAGS = -Wall -O2</span><br><span class="line"></span><br><span class="line">app: <span class="selector-tag">main</span><span class="selector-class">.o</span> lib<span class="selector-class">.o</span></span><br><span class="line">	$(CC) -o app <span class="selector-tag">main</span><span class="selector-class">.o</span> lib<span class="selector-class">.o</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">main</span><span class="selector-class">.o</span>: <span class="selector-tag">main</span><span class="selector-class">.c</span></span><br><span class="line">	$(CC) $(CFLAGS) -c <span class="selector-tag">main</span><span class="selector-class">.c</span></span><br><span class="line"></span><br><span class="line">lib<span class="selector-class">.o</span>: lib<span class="selector-class">.c</span></span><br><span class="line">	$(CC) $(CFLAGS) -c lib<span class="selector-class">.c</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.PHONY</span>: clean</span><br><span class="line">clean:</span><br><span class="line">	rm -f *<span class="selector-class">.o</span> app</span><br></pre></td></tr></table></figure>
<p>要执行Makefile, 请在命令行中切换到Makefile所在目录, 并运行make命令。它将自动构建和编译你的软件, 并根据需要更新目标文件。</p>

            </div>



</div>

   <div class="tag-cloud-tags">
    <a href="/tags/CMakeLists/" style="font-size: 10px; color: #f38181">CMakeLists</a> <a href="/tags/Eigen/" style="font-size: 10px; color: #f38181">Eigen</a> <a href="/tags/FCPX/" style="font-size: 10px; color: #f38181">FCPX</a> <a href="/tags/GNU/" style="font-size: 10px; color: #f38181">GNU</a> <a href="/tags/Gazebo/" style="font-size: 10px; color: #f38181">Gazebo</a> <a href="/tags/Git/" style="font-size: 10px; color: #f38181">Git</a> <a href="/tags/Interest/" style="font-size: 10px; color: #f38181">Interest</a> <a href="/tags/KDL/" style="font-size: 11.11px; color: #e98c8a">KDL</a> <a href="/tags/Life/" style="font-size: 10px; color: #f38181">Life</a> <a href="/tags/Linux/" style="font-size: 12.22px; color: #de9693">Linux</a> <a href="/tags/Matrix/" style="font-size: 10px; color: #f38181">Matrix</a> <a href="/tags/ODE/" style="font-size: 10px; color: #f38181">ODE</a> <a href="/tags/ROS/" style="font-size: 13.33px; color: #d4a19c">ROS</a> <a href="/tags/Ros/" style="font-size: 10px; color: #f38181">Ros</a> <a href="/tags/UML/" style="font-size: 10px; color: #f38181">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px; color: #f38181">Ubuntu</a> <a href="/tags/VcXsrv/" style="font-size: 10px; color: #f38181">VcXsrv</a> <a href="/tags/axis-angle/" style="font-size: 10px; color: #f38181">axis-angle</a> <a href="/tags/bode/" style="font-size: 10px; color: #f38181">bode</a> <a href="/tags/chrome/" style="font-size: 10px; color: #f38181">chrome</a> <a href="/tags/control/" style="font-size: 13.33px; color: #d4a19c">control</a> <a href="/tags/cpp/" style="font-size: 17.78px; color: #aaccc1">cpp</a> <a href="/tags/data-struct/" style="font-size: 10px; color: #f38181">data_struct</a> <a href="/tags/dots/" style="font-size: 15.56px; color: #bfb6af">dots</a> <a href="/tags/figure/" style="font-size: 10px; color: #f38181">figure</a> <a href="/tags/gdb/" style="font-size: 10px; color: #f38181">gdb</a> <a href="/tags/latex/" style="font-size: 11.11px; color: #e98c8a">latex</a> <a href="/tags/launch/" style="font-size: 10px; color: #f38181">launch</a> <a href="/tags/life/" style="font-size: 16.67px; color: #b4c1b8">life</a> <a href="/tags/linux/" style="font-size: 17.78px; color: #aaccc1">linux</a> <a href="/tags/mac/" style="font-size: 10px; color: #f38181">mac</a> <a href="/tags/math/" style="font-size: 12.22px; color: #de9693">math</a> <a href="/tags/matlab/" style="font-size: 12.22px; color: #de9693">matlab</a> <a href="/tags/memory/" style="font-size: 14.44px; color: #c9aca5">memory</a> <a href="/tags/motor/" style="font-size: 11.11px; color: #e98c8a">motor</a> <a href="/tags/moveit/" style="font-size: 10px; color: #f38181">moveit</a> <a href="/tags/operator/" style="font-size: 10px; color: #f38181">operator</a> <a href="/tags/python/" style="font-size: 16.67px; color: #b4c1b8">python</a> <a href="/tags/robot/" style="font-size: 12.22px; color: #de9693">robot</a> <a href="/tags/robotics/" style="font-size: 13.33px; color: #d4a19c">robotics</a> <a href="/tags/ros/" style="font-size: 15.56px; color: #bfb6af">ros</a> <a href="/tags/ros2/" style="font-size: 11.11px; color: #e98c8a">ros2</a> <a href="/tags/rtb/" style="font-size: 10px; color: #f38181">rtb</a> <a href="/tags/simulation/" style="font-size: 11.11px; color: #e98c8a">simulation</a> <a href="/tags/stl/" style="font-size: 10px; color: #f38181">stl</a> <a href="/tags/tools/" style="font-size: 18.89px; color: #9fd6ca">tools</a> <a href="/tags/twist/" style="font-size: 10px; color: #f38181">twist</a> <a href="/tags/urdf/" style="font-size: 10px; color: #f38181">urdf</a> <a href="/tags/velocity/" style="font-size: 10px; color: #f38181">velocity</a> <a href="/tags/vim/" style="font-size: 14.44px; color: #c9aca5">vim</a> <a href="/tags/web/" style="font-size: 10px; color: #f38181">web</a> <a href="/tags/work/" style="font-size: 20px; color: #95e1d3">work</a> <a href="/tags/wsl/" style="font-size: 10px; color: #f38181">wsl</a>
</div>



<div align="center"> 
    <li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow noopener" target="_blank" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议">



        </div>
    </div>
</body>


</html>
