<!DOCTYPE HTML>
<html>

<head>
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><link rel="bookmark"  type="image/x-icon"  href="/img/favicon.ico"/>
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM" />
    <link rel="stylesheet" href="/css/lsqy_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot" />
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/myCover.png') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script>

<meta name="generator" content="Hexo 7.0.0-rc2"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>
		


<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<body class="is-loading">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/CONTROL/">CONTROL</a></li><li><a class="category-link" href="/categories/GIT/">GIT</a></li><li><a class="category-link" href="/categories/HEXO/">HEXO</a></li><li><a class="category-link" href="/categories/LATEX/">LATEX</a></li><li><a class="category-link" href="/categories/LIFE/">LIFE</a></li><li><a class="category-link" href="/categories/LINUX/">LINUX</a></li><li><a class="category-link" href="/categories/MAC-BOOK/">MAC BOOK</a></li><li><a class="category-link" href="/categories/MATLAB/">MATLAB</a></li><li><a class="category-link" href="/categories/PYTHON/">PYTHON</a></li><li><a class="category-link" href="/categories/ROBOTICS/">ROBOTICS</a></li><li><a class="category-link" href="/categories/ROS/">ROS</a></li><li><a class="category-link" href="/categories/TOOLS/">TOOLS</a></li><li><a class="category-link" href="/categories/dataStruct/">dataStruct</a>
	                    </ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/" ><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/" ><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/" ><img src="/img/quote.png"></a>
	        
			</li>


	        <!-- about 关于搜索栏   --> 
			<li>
	        
			</li>



	        <!-- my lover--> 
			<li>
	        
	            <a href="/dudu/" ><img src="/img/myLoverLogo.png"></a>
	        
			</li>



            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/cpp0/logo/CP_EigenLogo.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >C++/Eigen学习</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#子矩阵操作简介">子矩阵操作简介</a></li>
<li><a href="#块操作的一般使用方法">块操作的一般使用方法</a></li>
<li><a href="#行子式和列子式">行子式和列子式</a></li>
<li><a href="#向量的子向量操作">向量的子向量操作</a></li>
<li><a href="#后记">后记</a></li>
<li><a href="#参考">参考</a></li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="子矩阵操作简介"><a href="#子矩阵操作简介" class="headerlink" title="子矩阵操作简介"></a>子矩阵操作简介</h1><p>子矩阵操作又称块操作,在矩阵运算中,子矩阵的提取和操作应用也十分广泛。因此Eigen中也提供了相关操作的方法。提取的子矩阵在操作过程中既可以用作左值也可以用作右值。</p>
<h1 id="块操作的一般使用方法"><a href="#块操作的一般使用方法" class="headerlink" title="块操作的一般使用方法"></a>块操作的一般使用方法</h1><p>在Eigen中最基本的快操作运算是用 <code>.block()</code> 完成的。提取的子矩阵同样分为动态大小和固定大小。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"><strong>块操作</strong>           &emsp;</th>
<th style="text-align:center"><strong>构建动态大小子矩阵</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">提取块大小为(p,q),起始于(i,j) &emsp;</td>
<td style="text-align:center"><code>matrix.block(i,j,p,q)</code></td>
</tr>
</tbody>
</table>
</div>
<p>同样需要注意的是在Eigen中,索引是从0开始。所有的操作方法都可以适用于Array.同样使用固定大小的操作方式在小型矩阵运算时更加的快,但要求在编译时就要知道矩阵的大小。下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Eigen/Dense&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">MatrixXf <span class="title">m</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,</span><br><span class="line">        <span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,</span><br><span class="line">        <span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,</span><br><span class="line">        <span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Block in the middle&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;m.<span class="built_in">block</span>&lt;<span class="number">2</span>,<span class="number">2</span>&gt;(<span class="number">1</span>,<span class="number">1</span>)&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">3</span>;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Block of size &quot;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot;x&quot;</span>&lt;&lt;i&lt;&lt;endl;</span><br><span class="line">        cout&lt;&lt;m.<span class="built_in">block</span>(<span class="number">0</span>,<span class="number">0</span>,i,i)&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line">执行结果如下：</span><br><span class="line"></span><br><span class="line"><span class="keyword">Block</span> <span class="keyword">in</span> the middle</span><br><span class="line"> <span class="number">6</span>  <span class="number">7</span></span><br><span class="line"><span class="number">10</span> <span class="number">11</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Block</span> of <span class="built_in">size</span> <span class="number">1</span>x1</span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Block</span> of <span class="built_in">size</span> <span class="number">2</span>x2</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">5</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Block</span> of <span class="built_in">size</span> <span class="number">3</span>x3</span><br><span class="line"> <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br><span class="line"> <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span></span><br><span class="line"> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span></span><br></pre></td></tr></table></figure>
<p>上面的示例中,<code>.block()</code> 被应用为左值操作,即从中读取数据。事实上,它也可以被用作为右值操作,即也可往里面写入数据。下面是一个右值应用实例。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Eigen/Dense&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Array22f m;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,</span><br><span class="line">        <span class="number">3</span>,<span class="number">4</span>;</span><br><span class="line">    Array44f a = Array44f::<span class="built_in">Constant</span>(<span class="number">0.6</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Here is the array a:&quot;</span>&lt;&lt;endl&lt;&lt;a&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    a.<span class="built_in">block</span>&lt;<span class="number">2</span>,<span class="number">2</span>&gt;(<span class="number">1</span>,<span class="number">1</span>) = m;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Here is now a with m copied into its central 2x2 block:&quot;</span>&lt;&lt;endl&lt;&lt;a&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    a.<span class="built_in">block</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>) = a.<span class="built_in">block</span>(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Here is now a with bottom-right 2x3 block copied into top-left 2x2 block:&quot;</span>&lt;&lt;endl&lt;&lt;a&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Here</span> is the array a:</span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">Here</span> is now a with m copied into its central <span class="number">2</span>x2 block:</span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span>   <span class="number">1</span>   <span class="number">2</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span>   <span class="number">3</span>   <span class="number">4</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">Here</span> is now a with bottom-right <span class="number">2</span>x3 block copied into top-left <span class="number">2</span>x2 block:</span><br><span class="line">  <span class="attribute">3</span>   <span class="number">4</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span>   <span class="number">3</span>   <span class="number">4</span> <span class="number">0</span>.<span class="number">6</span></span><br><span class="line"><span class="attribute">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span> <span class="number">0</span>.<span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>.block()方法是一种非常通用的块操作方法。除了这个通用的方法以外,Eigen中还为一些常用的特殊操作提供了特殊的函数。从运行速度的方面来看,你应该在编译阶段尽可能的提供更多的信息。比如,如果你需要操作的块是一个列,那么你可以使用.col()函数。这样Eigen可以得知这个信息以便进行更多的优化。这些特殊操作方法总结如下。</p>
<h1 id="行子式和列子式"><a href="#行子式和列子式" class="headerlink" title="行子式和列子式"></a>行子式和列子式</h1><p>我们可以使用<code>.col()</code>和<code>.row()</code>方法来操作或者提取一个列或者行。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">块操作 &emsp;</th>
<th style="text-align:center">方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">第i行  &emsp;</td>
<td style="text-align:center"><code>matrix.row(i)</code></td>
</tr>
<tr>
<td style="text-align:center">第j列  &emsp;</td>
<td style="text-align:center"><code>matrix.col(j)</code></td>
</tr>
</tbody>
</table>
</div>
<p>下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Eigen/Dense&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">MatrixXf <span class="title">m</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>)</span></span>;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,</span><br><span class="line">        <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,</span><br><span class="line">        <span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Here is the matrix m:&quot;</span>&lt;&lt;endl&lt;&lt;m&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;2nd Row:&quot;</span>&lt;&lt;m.<span class="built_in">row</span>(<span class="number">1</span>)&lt;&lt;endl;</span><br><span class="line">    m.<span class="built_in">col</span>(<span class="number">2</span>) += <span class="number">3</span>*m.<span class="built_in">col</span>(<span class="number">0</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;After adding 3 times the first column into third column,the matrix m is:\n&quot;</span>;</span><br><span class="line">    cout&lt;&lt;m&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Here</span> is the matrix m:</span><br><span class="line"><span class="attribute">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="attribute">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="attribute">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line"><span class="attribute">2nd</span> Row:<span class="number">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="attribute">After</span> adding <span class="number">3</span> times the first column into third column,the matrix m is:</span><br><span class="line"> <span class="attribute">1</span>  <span class="number">2</span>  <span class="number">6</span></span><br><span class="line"> <span class="attribute">4</span>  <span class="number">5</span> <span class="number">18</span></span><br><span class="line"> <span class="attribute">7</span>  <span class="number">8</span> <span class="number">30</span></span><br></pre></td></tr></table></figure>
<p>Eigen提供了从边角开始提取子矩阵的方法,比如<code>.topLeftCorner()</code>表示从左上角开始提取子矩阵。这些操作总结如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">块操作    &emsp;</th>
<th>动态矩阵版本                     &emsp;</th>
<th>固定矩阵版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">左上角pxq &emsp;</td>
<td><code>matrix.topLeftCorner(p,q);</code>     &emsp;</td>
<td><code>matrix.topLeftCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">左下角pxq &emsp;</td>
<td><code>matrix.bottomLeftCorner(p,q);</code>  &emsp;</td>
<td><code>matrix.bbottomLeftCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">右上角pxq &emsp;</td>
<td><code>matrix.topRightCorner(p,q);</code>    &emsp;</td>
<td><code>matrix.topRightCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">右下角pxq &emsp;</td>
<td><code>matrix.bottomRightCorner(p,q);</code> &emsp;</td>
<td><code>matrix.bottomRightCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">前p行     &emsp;</td>
<td><code>matrix.topRows(p);</code>             &emsp;</td>
<td><code>matrix.topRows&lt;p&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">后p行     &emsp;</td>
<td><code>matrix.bottomRows(p);</code>          &emsp;</td>
<td><code>matrix.bottomRows&lt;p&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">前q列     &emsp;</td>
<td><code>matrix.leftCols(q);</code>            &emsp;</td>
<td><code>matrix.leftCols&lt;q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">后q列     &emsp;</td>
<td><code>matrix.rightCols(q);</code>           &emsp;</td>
<td><code>matrix.rightCols&lt;q&gt;();</code></td>
</tr>
</tbody>
</table>
</div>
<p>下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Eigen/Dense&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Matrix4f m;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,</span><br><span class="line">        <span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,</span><br><span class="line">        <span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,</span><br><span class="line">        <span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;m.leftCols(2)=&quot;</span>&lt;&lt;endl&lt;&lt;m.<span class="built_in">leftCols</span>(<span class="number">2</span>)&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;m.bottomRows&lt;2&gt;()=&quot;</span>&lt;&lt;endl&lt;&lt;m.<span class="built_in">bottomRows</span>&lt;<span class="number">2</span>&gt;()&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    m.<span class="built_in">topLeftCorner</span>(<span class="number">1</span>,<span class="number">3</span>) = m.<span class="built_in">bottomRightCorner</span>(<span class="number">3</span>,<span class="number">1</span>).<span class="built_in">transpose</span>();</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;After assignment,m=&quot;</span>&lt;&lt;endl&lt;&lt;m&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">m</span>.leftCols(<span class="number">2</span>)=</span><br><span class="line"> <span class="attribute">1</span>  <span class="number">2</span></span><br><span class="line"> <span class="attribute">5</span>  <span class="number">6</span></span><br><span class="line"> <span class="attribute">9</span> <span class="number">10</span></span><br><span class="line"><span class="attribute">13</span> <span class="number">14</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">m</span>.bottomRows&lt;<span class="number">2</span>&gt;()=</span><br><span class="line"> <span class="attribute">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br><span class="line"><span class="attribute">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">After</span> assignment,m=</span><br><span class="line"> <span class="attribute">8</span> <span class="number">12</span> <span class="number">16</span>  <span class="number">4</span></span><br><span class="line"> <span class="attribute">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span></span><br><span class="line"> <span class="attribute">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br><span class="line"><span class="attribute">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span></span><br></pre></td></tr></table></figure>
<h1 id="向量的子向量操作"><a href="#向量的子向量操作" class="headerlink" title="向量的子向量操作"></a>向量的子向量操作</h1><p>Eigen中同样也为向量提供了一些子式的操作方法,总结如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>块操作           &emsp;</th>
<th>固定向量版本        &emsp;</th>
<th>动态向量版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>前n个元素        &emsp;</td>
<td>vector.head(n);     &emsp;</td>
<td>vector.head();</td>
</tr>
<tr>
<td>后n个元素        &emsp;</td>
<td>vector.tail(n);     &emsp;</td>
<td>vector.tail();</td>
</tr>
<tr>
<td>从i开始取n个元素 &emsp;</td>
<td>vector.segment(i,n) &emsp;</td>
<td>vector.segment(i);</td>
</tr>
</tbody>
</table>
</div>
<p>再次说明一下,所有对矩阵的操作同样适用于Array,所有对列向量的操作同样适用于行向量。下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Eigen/Dense&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">ArrayXf <span class="title">v</span><span class="params">(<span class="number">6</span>)</span></span>;</span><br><span class="line">    v&lt;&lt;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;v.head(3)=&quot;</span>&lt;&lt;endl&lt;&lt;v.<span class="built_in">head</span>(<span class="number">3</span>)&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;v.tail&lt;3&gt;()=&quot;</span>&lt;&lt;endl&lt;&lt;v.<span class="built_in">tail</span>&lt;<span class="number">3</span>&gt;()&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">    v.<span class="built_in">segment</span>(<span class="number">1</span>,<span class="number">4</span>) *= <span class="number">2</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;after &#x27;v.segment(1,4) *= 2&#x27;,v=&quot;</span>&lt;&lt;endl&lt;&lt;v&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">v</span>.head(<span class="number">3</span>)=</span><br><span class="line"><span class="attribute">1</span></span><br><span class="line"><span class="attribute">2</span></span><br><span class="line"><span class="attribute">3</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">v</span>.tail&lt;<span class="number">3</span>&gt;()=</span><br><span class="line"><span class="attribute">4</span></span><br><span class="line"><span class="attribute">5</span></span><br><span class="line"><span class="attribute">6</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">after</span> &#x27;v.segment(<span class="number">1</span>,<span class="number">4</span>) *= <span class="number">2</span>&#x27;,v=</span><br><span class="line"> <span class="attribute">1</span></span><br><span class="line"> <span class="attribute">4</span></span><br><span class="line"> <span class="attribute">6</span></span><br><span class="line"> <span class="attribute">8</span></span><br><span class="line"><span class="attribute">10</span></span><br><span class="line"> <span class="attribute">6</span></span><br></pre></td></tr></table></figure>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>1, 时隔两年回头看看自己的这个笔记， 感觉就写了分块矩阵的提取这么点内容。。。。 2023.8.5</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>[1] <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_27251141/article/details/90442072">Eigen子矩阵操作(block)</a></p>

            </div>

<div align="center"> 
<li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow noopener" target="_blank" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议"></div>


        </div>
    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>


</html>
