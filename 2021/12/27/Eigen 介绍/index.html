<!DOCTYPE HTML>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><link rel="bookmark" type="image/x-icon" href="/img/favicon.ico">
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM">
    <link rel="stylesheet" href="/css/timeLine.css">
    <link rel="stylesheet" href="/css/lsqy_main.css">
    <link rel="stylesheet" href="/css/dropdownMenu.css">
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot">
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css">
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url(https://source.unsplash.com/random/1600x900) center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    

    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>
		


<link rel="stylesheet" href="/css/prism_coy.css">
<link rel="stylesheet" href="/css/typo.css">
<body class="is-loading">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special">
            <ul class="menu links">
			<!-- Homepage  主页  --> 
			<li>
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Algorithm/">Algorithm</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/Control/">Control</a></li><li><a class="category-link" href="/categories/Git/">Git</a></li><li><a class="category-link" href="/categories/Life/">Life</a></li><li><a class="category-link" href="/categories/Linux/">Linux</a></li><li><a class="category-link" href="/categories/Matlab/">Matlab</a></li><li><a class="category-link" href="/categories/Robot/">Robot</a></li><li><a class="category-link" href="/categories/VS/">VS</a></li><li><a class="category-link" href="/categories/Work/">Work</a></li><li><a class="category-link" href="/categories/latex/">latex</a></li><li><a class="category-link" href="/categories/life/">life</a></li><li><a class="category-link" href="/categories/math/">math</a></li><li><a class="category-link" href="/categories/ros/">ros</a></li><li><a class="category-link" href="/categories/rtb/">rtb</a></li><li><a class="category-link" href="/categories/tools/">tools</a></li><li><a class="category-link" href="/categories/work/">work</a>
	                    </li></ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/"><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/"><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/"><img src="/img/quote.png"></a>
	        
			</li>










            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main">
            <div class="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/cpp0/CP_EigenLogo.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2>C++/Eigen学习</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<pre><code>* [1、子矩阵操作简介](#1子矩阵操作简介)
* [2、块操作的一般使用方法](#2块操作的一般使用方法)
    * [3、行子式和列子式](#3行子式和列子式)
    * [5、向量的子向量操作](#5向量的子向量操作)
</code></pre><ul>
<li><a href="#参考">参考</a></li>
</ul>
<!-- vim-markdown-toc -->
<h2 id="1、子矩阵操作简介"><a href="#1、子矩阵操作简介" class="headerlink" title="1、子矩阵操作简介"></a>1、子矩阵操作简介</h2><p>子矩阵操作又称块操作，在矩阵运算中，子矩阵的提取和操作应用也十分广泛。因此Eigen中也提供了相关操作的方法。提取的子矩阵在操作过程中既可以用作左值也可以用作右值。</p>
<h2 id="2、块操作的一般使用方法"><a href="#2、块操作的一般使用方法" class="headerlink" title="2、块操作的一般使用方法"></a>2、块操作的一般使用方法</h2><p>在Eigen中最基本的快操作运算是用<code>.block()</code>完成的。提取的子矩阵同样分为动态大小和固定大小。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"><strong>块操作</strong></th>
<th style="text-align:center"><strong>构建动态大小子矩阵</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">提取块大小为(p,q),起始于(i,j)</td>
<td style="text-align:center"><code>matrix.block(i,j,p,q)</code></td>
</tr>
</tbody>
</table>
</div>
<p>同样需要注意的是在Eigen中，索引是从0开始。所有的操作方法都可以适用于Array.同样使用固定大小的操作方式在小型矩阵运算时更加的快，但要求在编译时就要知道矩阵的大小。下面是一个使用示例：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Eigen/Dense"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">MatrixXf <span class="title">m</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,</span><br><span class="line">        <span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,</span><br><span class="line">        <span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,</span><br><span class="line">        <span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Block in the middle"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;m.block&lt;<span class="number">2</span>,<span class="number">2</span>&gt;(<span class="number">1</span>,<span class="number">1</span>)&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">3</span>;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Block of size "</span>&lt;&lt;i&lt;&lt;<span class="string">"x"</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;m.block(<span class="number">0</span>,<span class="number">0</span>,i,i)&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">执行结果如下：</span><br><span class="line"></span><br><span class="line">Block in the middle</span><br><span class="line"> <span class="number">6</span>  <span class="number">7</span></span><br><span class="line"><span class="number">10</span> <span class="number">11</span></span><br><span class="line"></span><br><span class="line">Block of size <span class="number">1</span>x1</span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line">Block of size <span class="number">2</span>x2</span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">5</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line">Block of size <span class="number">3</span>x3</span><br><span class="line"> <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br><span class="line"> <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span></span><br><span class="line"> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span></span><br></pre></td></tr></table></figure>
<p>上面的示例中，<code>.block()</code> 被应用为左值操作，即从中读取数据。事实上，它也可以被用作为右值操作，即也可往里面写入数据。下面是一个右值应用实例。</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Eigen/Dense"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Array22f m;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,</span><br><span class="line">        <span class="number">3</span>,<span class="number">4</span>;</span><br><span class="line">    Array44f a = Array44f::Constant(<span class="number">0.6</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Here is the array a:"</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    a.block&lt;<span class="number">2</span>,<span class="number">2</span>&gt;(<span class="number">1</span>,<span class="number">1</span>) = m;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Here is now a with m copied into its central 2x2 block:"</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    a.block(<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>) = a.block(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Here is now a with bottom-right 2x3 block copied into top-left 2x2 block:"</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">Here</span> <span class="selector-tag">is</span> <span class="selector-tag">the</span> <span class="selector-tag">array</span> <span class="selector-tag">a</span>:</span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">Here</span> <span class="selector-tag">is</span> <span class="selector-tag">now</span> <span class="selector-tag">a</span> <span class="selector-tag">with</span> <span class="selector-tag">m</span> <span class="selector-tag">copied</span> <span class="selector-tag">into</span> <span class="selector-tag">its</span> <span class="selector-tag">central</span> 2<span class="selector-tag">x2</span> <span class="selector-tag">block</span>:</span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span>   1   2 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span>   3   4 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">Here</span> <span class="selector-tag">is</span> <span class="selector-tag">now</span> <span class="selector-tag">a</span> <span class="selector-tag">with</span> <span class="selector-tag">bottom-right</span> 2<span class="selector-tag">x3</span> <span class="selector-tag">block</span> <span class="selector-tag">copied</span> <span class="selector-tag">into</span> <span class="selector-tag">top-left</span> 2<span class="selector-tag">x2</span> <span class="selector-tag">block</span>:</span><br><span class="line">  3   4 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span>   3   4 0<span class="selector-class">.6</span></span><br><span class="line">0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span> 0<span class="selector-class">.6</span></span><br></pre></td></tr></table></figure>
<p>.block()方法是一种非常通用的块操作方法。除了这个通用的方法以外，Eigen中还为一些常用的特殊操作提供了特殊的函数。从运行速度的方面来看，你应该在编译阶段尽可能的提供更多的信息。比如，如果你需要操作的块是一个列，那么你可以使用.col()函数。这样Eigen可以得知这个信息以便进行更多的优化。这些特殊操作方法总结如下。</p>
<h3 id="3、行子式和列子式"><a href="#3、行子式和列子式" class="headerlink" title="3、行子式和列子式"></a>3、行子式和列子式</h3><p>我们可以使用<code>.col()</code>和<code>.row()</code>方法来操作或者提取一个列或者行。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">块操作</th>
<th style="text-align:center">方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">第i行</td>
<td style="text-align:center"><code>matrix.row(i)</code></td>
</tr>
<tr>
<td style="text-align:center">第j列</td>
<td style="text-align:center"><code>matrix.col(j)</code></td>
</tr>
</tbody>
</table>
</div>
<p>下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Eigen/Dense"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">MatrixXf <span class="title">m</span><span class="params">(<span class="number">3</span>,<span class="number">3</span>)</span></span>;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,</span><br><span class="line">        <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,</span><br><span class="line">        <span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"Here is the matrix m:"</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;m&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"2nd Row:"</span>&lt;&lt;m.row(<span class="number">1</span>)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    m.col(<span class="number">2</span>) += <span class="number">3</span>*m.col(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"After adding 3 times the first column into third column,the matrix m is:\n"</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;m&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">Here is the matrix m:</span><br><span class="line">1<span class="number"> 2 </span>3</span><br><span class="line">4<span class="number"> 5 </span>6</span><br><span class="line">7<span class="number"> 8 </span>9</span><br><span class="line">2nd Row:4<span class="number"> 5 </span>6</span><br><span class="line">After adding<span class="number"> 3 </span>times the first column into third column,the matrix m is:</span><br><span class="line"><span class="number"> 1 </span><span class="number"> 2 </span> 6</span><br><span class="line"><span class="number"> 4 </span><span class="number"> 5 </span>18</span><br><span class="line"><span class="number"> 7 </span><span class="number"> 8 </span>30</span><br></pre></td></tr></table></figure>
<p>Eigen提供了从边角开始提取子矩阵的方法，比如<code>.topLeftCorner()</code>表示从左上角开始提取子矩阵。这些操作总结如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">块操作</th>
<th>动态矩阵版本</th>
<th>固定矩阵版本</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">左上角pxq</td>
<td><code>matrix.topLeftCorner(p,q);</code></td>
<td><code>matrix.topLeftCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">左下角pxq</td>
<td><code>matrix.bottomLeftCorner(p,q);</code></td>
<td><code>matrix.bbottomLeftCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">右上角pxq</td>
<td><code>matrix.topRightCorner(p,q);</code></td>
<td><code>matrix.topRightCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">右下角pxq</td>
<td><code>matrix.bottomRightCorner(p,q);</code></td>
<td><code>matrix.bottomRightCorner&lt;p,q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">前p行</td>
<td><code>matrix.topRows(p);</code></td>
<td><code>matrix.topRows&lt;p&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">后p行</td>
<td><code>matrix.bottomRows(p);</code></td>
<td><code>matrix.bottomRows&lt;p&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">前q列</td>
<td><code>matrix.leftCols(q);</code></td>
<td><code>matrix.leftCols&lt;q&gt;();</code></td>
</tr>
<tr>
<td style="text-align:left">后q列</td>
<td><code>matrix.rightCols(q);</code></td>
<td><code>matrix.rightCols&lt;q&gt;();</code></td>
</tr>
</tbody>
</table>
</div>
<p>下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Eigen/Dense"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Matrix4f m;</span><br><span class="line">    m&lt;&lt; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,</span><br><span class="line">        <span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,</span><br><span class="line">        <span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,</span><br><span class="line">        <span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"m.leftCols(2)="</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;m.leftCols(<span class="number">2</span>)&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"m.bottomRows&lt;2&gt;()="</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;m.bottomRows&lt;<span class="number">2</span>&gt;()&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    m.topLeftCorner(<span class="number">1</span>,<span class="number">3</span>) = m.bottomRightCorner(<span class="number">3</span>,<span class="number">1</span>).transpose();</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"After assignment,m="</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;m&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">m.leftCols(<span class="number">2</span>)=</span><br><span class="line"> <span class="number">1</span>  <span class="number">2</span></span><br><span class="line"> <span class="number">5</span>  <span class="number">6</span></span><br><span class="line"> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">13</span> <span class="number">14</span></span><br><span class="line"></span><br><span class="line">m.bottomRows&lt;<span class="number">2</span>&gt;()=</span><br><span class="line"> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br><span class="line"><span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span></span><br><span class="line"></span><br><span class="line">After assignment,m=</span><br><span class="line"> <span class="number">8</span> <span class="number">12</span> <span class="number">16</span>  <span class="number">4</span></span><br><span class="line"> <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span></span><br><span class="line"> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span></span><br><span class="line"><span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span></span><br></pre></td></tr></table></figure>
<h3 id="5、向量的子向量操作"><a href="#5、向量的子向量操作" class="headerlink" title="5、向量的子向量操作"></a>5、向量的子向量操作</h3><p>Eigen中同样也为向量提供了一些子式的操作方法，总结如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>块操作</th>
<th>固定向量版本</th>
<th>动态向量版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>前n个元素</td>
<td>vector.head(n);</td>
<td>vector.head();</td>
</tr>
<tr>
<td>后n个元素</td>
<td>vector.tail(n);</td>
<td>vector.tail();</td>
</tr>
<tr>
<td>从i开始取n个元素</td>
<td>vector.segment(i,n)</td>
<td>vector.segment(i);</td>
</tr>
</tbody>
</table>
</div>
<p>再次说明一下，所有对矩阵的操作同样适用于Array，所有对列向量的操作同样适用于行向量。下面是一个使用示例：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Eigen/Dense"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">ArrayXf <span class="title">v</span><span class="params">(<span class="number">6</span>)</span></span>;</span><br><span class="line">    v&lt;&lt;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"v.head(3)="</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;v.head(<span class="number">3</span>)&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"v.tail&lt;3&gt;()="</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;v.tail&lt;<span class="number">3</span>&gt;()&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    v.segment(<span class="number">1</span>,<span class="number">4</span>) *= <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"after 'v.segment(1,4) *= 2',v="</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;v&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">v.head(<span class="number">3</span>)=</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line">v.tail&lt;<span class="number">3</span>&gt;()=</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"></span><br><span class="line">after 'v.segment(<span class="number">1</span>,<span class="number">4</span>) *= <span class="number">2</span>',v=</span><br><span class="line"> <span class="number">1</span></span><br><span class="line"> <span class="number">4</span></span><br><span class="line"> <span class="number">6</span></span><br><span class="line"> <span class="number">8</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"> <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>[1] <a href="https://blog.csdn.net/qq_27251141/article/details/90442072" target="_blank" rel="noopener">Eigen子矩阵操作(block)</a></p>

            </div>

<div align="center"> 
<li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议"></div>


        </div>
    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>


</html>
