<!DOCTYPE HTML>
<html>

<head>
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><link rel="bookmark"  type="image/x-icon"  href="/img/favicon.ico"/>
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM" />
    <link rel="stylesheet" href="/css/lsqy_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot" />
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/myCover.png') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script>

<meta name="generator" content="Hexo 6.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>
		


<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<body class="is-loading">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/CONTROL/">CONTROL</a></li><li><a class="category-link" href="/categories/GIT/">GIT</a></li><li><a class="category-link" href="/categories/HEXO/">HEXO</a></li><li><a class="category-link" href="/categories/LATEX/">LATEX</a></li><li><a class="category-link" href="/categories/LIFE/">LIFE</a></li><li><a class="category-link" href="/categories/LINUX/">LINUX</a></li><li><a class="category-link" href="/categories/MATLAB/">MATLAB</a></li><li><a class="category-link" href="/categories/PYTHON/">PYTHON</a></li><li><a class="category-link" href="/categories/ROBOT/">ROBOT</a></li><li><a class="category-link" href="/categories/ROBOTICS/">ROBOTICS</a></li><li><a class="category-link" href="/categories/ROS/">ROS</a></li><li><a class="category-link" href="/categories/RTB/">RTB</a></li><li><a class="category-link" href="/categories/TOOLS/">TOOLS</a>
	                    </ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/" ><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/" ><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/" ><img src="/img/quote.png"></a>
	        
			</li>




	        <!-- tag 被我用于其他事情了--> 
			<li>
	        
	            <a href="/tag/" ><img src="/img/tag.png"></a>
	        
			</li>










            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/threeLoopControlSystem/logo/background-image-3497025_1280.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >三环控制系统</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#三闭环系统构成">三闭环系统构成</a></li>
<li><a href="#系统的基本研究内容">系统的基本研究内容</a><ul>
<li><a href="#典型系统">典型系统</a><ul>
<li><a href="#典型型系统">典型Ⅰ型系统</a></li>
<li><a href="#典型型系统-1">典型<strong>Ⅱ</strong>型系统</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#手动调整速度环增益和位置环增益">手动调整速度环增益和位置环增益</a></li>
<li><a href="#增益调整与机械刚性的关系">增益调整与机械刚性的关系</a><ul>
<li><a href="#提高机械刚性">提高机械刚性</a></li>
</ul>
</li>
<li><a href="#参考">参考</a></li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前记录的一部分笔记里,有关于运动控制的简单说明,这部分的内容还是非常吸引自己的,于是就查阅了相关的书本资料,做进一步的学习,下面很多内容/笔记是出自于孙宇等人编著的《交流伺服系统设计指南》,里面的内容让人眼前一亮,会让人对经典控制理论产生极大的兴趣,非常值得去好好的学习下。内容仅作为学习使用,会穿插一些自己对内容的理解以及相关的代码演示等。</p>
<h1 id="三闭环系统构成"><a href="#三闭环系统构成" class="headerlink" title="三闭环系统构成"></a>三闭环系统构成</h1><p>高性能交流伺服控制系统通常具有位置反馈、 转速反馈和电流反馈的三闭环结构形式, 如图所示。 图中, 虚线框内表示电源、 电动机及编码器模型, 其中 APR 表示位置调节器, ASR 表示转速调节器, ACR 表示电流调节器。</p>
<div align="center"> <img src="/img/postImg/threeLoopControlSystem/threeLoopControl.png" width="80%" height="40%"> </div>

<p>三个环路调节器都由 P 和 I 组成, 虽然结构相似, 但是完成的功能却各自不同：</p>
<p>① 电流环 ACR 的作用是改造内核控制对象的传递函数, 提高系统的快速性； 及时抑制电流环内部的干扰； 限制最大电流, 使系统有足够大的加速度转矩, 并且保障系统安全运行。</p>
<p>② 速度环 ASR 的作用是增强系统抗负载扰动的能力； 抑制转速波动。 </p>
<p>③ 位置环 APR 的作用是保证系统静态准确度、 刚度和动态跟踪的性能； 它是反馈的主要通道。 </p>
<p>通常把电流环称为内环, 三个环的设计步骤由内到外, 即依次是电流环, 速度环和位置环。 针对各个闭环的具体作用和要求, 采取相应的控制策略。 首要考虑系统的稳定性, 此外, 系统的跟随性、 扰动性、 误差以及稳态裕度等性能也是考虑的基本内容。 </p>
<p>机械系统是指系统负载和负载与电动机连接的机械传动机构的总称。 通常假设电动机与机械系统的连接特性为理想化的刚性,如下图所示</p>
<div align="center"> <img src="/img/postImg/threeLoopControlSystem/oneMotorSim.png" width="60%" height="30%"> </div>

<p>系统转动惯量 J 即是电动机转动惯量 JM 与负载转动惯量 JL 之和由它建立的系统一般称为单惯性系统。实际上,机械传动连接特性并非理想化的刚性,它存在一定的柔性,如下图所示,由它建立的系统称为两惯性系统。在该物理模型中,连接特性具有柔性耦合特性,存在弹性常数 Ks ,它使得系统转动惯量 J 不再是电动机转动惯量 JM 与负载转动惯量 JL 之和。 更复杂的是,这种柔性耦合通常会在系统中引发机械振动,机械振动除了发出声学噪声形成噪声污染外,还会对机械传动装置造成严重的损害,影响其使用寿命。另外,甚至还会引发控制系统中的控制量振荡,使得闭环控制的稳定性以及可调整性受到制约。</p>
<div align="center"> <img src="/img/postImg/threeLoopControlSystem/oneMotorReal.png" width="60%" height="30%"> </div>

<p>由经验可以得出, 虽然三闭环控制策略是在单惯性系统物理模型下分析得出的, 但它同样适用于振动负载模型, 其结论对实际应用中的伺服控制系统同样是有效的。 因此主动式解决振动的方法多数也是在三闭环控制系统的基础上展开研究的。 调整伺服系统就是通过调整各个环路的增益与滤波以使伺服控制器匹配机械特性,从而达到减小振动、快速跟踪指令并且消除异常噪音的目的。</p>
<h1 id="系统的基本研究内容"><a href="#系统的基本研究内容" class="headerlink" title="系统的基本研究内容"></a>系统的基本研究内容</h1><p>稳定是控制系统的重要性能, 也是系统能够正常运行的首要条件。 在交流伺服控制系统设计中, 分析三闭环结构是否稳定并不重要, 因为工业中即使是临界稳定的系统也是没有用的。 对于设计人员来说, 花费大量精力的重点在于测量系统有多稳定, 或者准确地说在于测 量系统所拥有的稳定性裕度有多大。 无论是在工程应用中, 还是在理论研究上, 这里推荐大家使用<strong>相位裕度</strong> (Phase Margin,PM) 和<strong>增益裕度</strong> (Gain Margin, GM) 来作为系统稳定程度的度量。 这是因为： </p>
<p>① PM 和 GM 是系统稳定性最直观的量度； </p>
<p>② 开环设计法是数字的, 适合于计算机； </p>
<p>③ 这种方法不需要对控制系统进行任何的简化性假设。 </p>
<p>若统开环传递函数的对数频率特性曲线如下所示。图中,相位裕度(PM)(通常也称为相角裕度)定义为 180°加开环幅相曲线幅值为 1时的相位∶</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?\gamma = 180^\circ + G(j\omega_c)H(j\omega_c)"/> </div>

<p>式中 <img src="https://latex.codecogs.com/png.latex?  \omega_c "/> 为系统的截止角频率。增益裕度 (GM, 通常也称为幅值裕度) 定义为幅相曲线上, 相位为 -180°时对应幅值的倒数：</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?h=\frac{1}{|G(j\omega_g)H(j\omega_g)|}"/> </div>

<p>通常幅值裕度用分贝值 dB 表示, 将上面的式修改为 </p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?h=20lg\frac{1}{|G(j\omega_g)H(j\omega_g)|} = -20lg|G(j\omega_g)H(j\omega_g)|"/> </div>

<p>虽然目标是测量 PM和 GM的值,但是确定这两个量度的期望值需要判断。其原因之一是裕度大小随应用要求的变化而变化。例如,有些必须跟随指令信号,如阶跃指令信号的场合,除了极稳定的系统外都会产生超调。相对于响应变化柔和的指令信号来说,这样的应用需要更高的稳定裕度。此外,与其他应用相比,有些应用可以承受更大的超调量。最后,对于同样的响应,有些控制方法需要比其他方法更大的相位裕度或者增益裕度。例如,对于一个阶跃响应来说,要获得相同的超调量,PI 调节器需要一定的相位裕度,而对于PID 调节器来说,较小的相位裕度就可能消除所有超调。经验表明,增益裕度(GM)应为10～ 25dB,而相位裕度(PM)应为35°~80°,这取决于具体应用及控制器类型。一般情况下,幅值裕度越大越好,同样,相角裕度也是越大越好。由于增益穿越处及其附近的相位滞后降低了相位裕度, 于是在整个控制回路中的每个噪 声滤波器、 反馈装置以及功率变换器均带来了相位滞后, 每个相位滞后都侵蚀相位裕度, 没必要的相位滞后限制了调节器的最终性能。 因此, 一条最基本的控制法则是： 消除没必要的相位滞后。 </p>
<h2 id="典型系统"><a href="#典型系统" class="headerlink" title="典型系统"></a>典型系统</h2><p>一般来说, 系统的开环传递函数都可表示为</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?W(s) = \frac{K(\tau_1s+1)(\tau_2s+1)}{s^r(T_1s+1)(T_2s+1)}"/> </div>

<p>式中,分子和分母上都可能含有复数零点和复数极点诸项。分母中的s’项表示系统在原点处有r重极点,或者说,系统含有r个积分环节。根据r=0,1,2,…不同值,分别称为0型、Ⅰ型、Ⅱ型、…系统。自动控制理论证明,0型系统在稳态时是有差的,而Ⅲ型和Ⅲ型以上的系统很难稳定。因此,通常为保证稳定性和一定的稳态准确度,多用I型和Ⅱ型系统。</p>
<h3 id="典型Ⅰ型系统"><a href="#典型Ⅰ型系统" class="headerlink" title="典型Ⅰ型系统"></a>典型Ⅰ型系统</h3><p>作为典型Ⅰ型系统, 其开环传递函数选择为</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?W(s) = \frac{K}{s(Ts+1)}"/> </div>

<p>它的闭环系统结构如下所示,</p>
<div align="center"> <img src="/img/postImg/threeLoopControlSystem/req1.png" width="60%" height="30%"> </div>

<p> 图 b 表示它的开环对数频率特性。 选择它作为典型系统不仅因为其机构简单, 而且对数幅频特性的中频段以 - 20dB / dec 的斜率穿越零分贝线。 只要参数的选择能保证有足够的中频带宽度,系统就一定是稳定的, 且有足够的稳定裕量。 显然要做到这一点, 应有</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?\begin{cases}\omega_c<\frac{1}{T}\\ arctan \omega_cT<45^\circ\end{cases}"/> </div>

<p>则相位稳定裕度有</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?\gamma = 180^\circ - 90^\circ - arctan \omega_cT>45^\circ"/> </div>

<h3 id="典型Ⅱ型系统"><a href="#典型Ⅱ型系统" class="headerlink" title="典型Ⅱ型系统"></a>典型<strong>Ⅱ</strong>型系统</h3><p>在Ⅱ型系统中,选择一种最简单而稳定的机构作为典型的Ⅱ型系统,其开环传递函数为</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?W(s) = \frac{K(\tau s + 1)}{s^2(Ts+1)}"/> </div>



<p>它的闭环系统结构和开环对数频率特性如图所示, </p>
<div align="center"> <img src="/img/postImg/threeLoopControlSystem/req2.png" width="60%" height="30%"> </div>

<p>其中频段也是以 - 20dB / dec 的斜率穿越零分贝线。由于分母中已经有s²,对应的相频特性是-180°,后面还有一个惯性环节(这是实际系统必定有的),如果在分子上不添加一个比例微分环节 <img src="https://latex.codecogs.com/png.latex? (\tau s+1)"/> ,就无法把相频特性抬到-180°线以上去,也就无法保证系统稳定。要实现图b这样的特性,显然应有</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?\begin{cases}\frac{1}{\tau}<\omega_c<\frac{1}{T}\\ \tau>T\end{cases}"/> </div>

<p>则相位稳定裕度为</p>
<div align="center"> <img src="https://latex.codecogs.com/png.latex?\gamma = arctan \omega_c \tau - arctan \omega_cT"/> </div>

<p>由上式可得到,<img src="https://latex.codecogs.com/png.latex?\tau"/> 比T大得越多,则稳定裕度越大。</p>
<h1 id="手动调整速度环增益和位置环增益"><a href="#手动调整速度环增益和位置环增益" class="headerlink" title="手动调整速度环增益和位置环增益"></a>手动调整速度环增益和位置环增益</h1><p>这部分的内容,松下的伺服驱动器手册说的是非常的详细的,结合着自己查阅相关驱动器手册,对其进行一点归纳。</p>
<p>1, 伺服驱动器首要的性能参数调整有三个：<strong>1.速度环增益；2.速度环积分时间常数;3.位置环增益</strong>。</p>
<h1 id="增益调整与机械刚性的关系"><a href="#增益调整与机械刚性的关系" class="headerlink" title="增益调整与机械刚性的关系"></a>增益调整与机械刚性的关系</h1><h2 id="提高机械刚性"><a href="#提高机械刚性" class="headerlink" title="提高机械刚性"></a>提高机械刚性</h2><p>1,应将机械牢固的置于地基上,使之不产生晃动。</p>
<p>2,应使用刚性高的伺服联轴器。</p>
<p>3, 使用宽幅的同步带。此外,张力应在电机容许轴向的过负载范围内。</p>
<p>4, 使用齿隙小的齿轮。机械部相关的固有振动 (共振频率) 会极大影响伺服机械的增益调整。共振频率低的机械 (=机械刚性低) ,伺服相关的响应性不可以设定过高。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>[1] 松下驱动器手册</p>

            </div>

<div align="center"> 
<li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow noopener" target="_blank" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议"></div>


        </div>
    </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>


</html>
