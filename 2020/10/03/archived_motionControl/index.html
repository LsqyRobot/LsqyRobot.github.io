<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/favicon.ico"/>
	<link rel="shortcut icon" href="/img/favicon.ico">
		<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="google-site-verification" content="Mbr82TZaQktpHzJ9Wt0AZ4B9JFdVUi1Xjxs8gf20DDM" />
    <link rel="stylesheet" href="/css/lsqy_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="mathematica,robotics,manipulator,ros,vim,matlab,C/C++,python,git,control theory,lsqyRobot" />
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/myCover.png') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

	    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script>
    <script src="/js/codeBlockFuction.js"></script>

<meta name="generator" content="Hexo 7.3.0"></head>
		


<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<body class="is-loading">
    <div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow"><img src="/img/home.png"></a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1"><img src="/img/folder.png"></a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/ALGORITHM/">ALGORITHM</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/CONFIG/">CONFIG</a></li><li><a class="category-link" href="/categories/CONTROL/">CONTROL</a></li><li><a class="category-link" href="/categories/CPP/">CPP</a></li><li><a class="category-link" href="/categories/GIT/">GIT</a></li><li><a class="category-link" href="/categories/HEXO/">HEXO</a></li><li><a class="category-link" href="/categories/LATEX/">LATEX</a></li><li><a class="category-link" href="/categories/LIFE/">LIFE</a></li><li><a class="category-link" href="/categories/LINUX/">LINUX</a></li><li><a class="category-link" href="/categories/MAC-BOOK/">MAC BOOK</a></li><li><a class="category-link" href="/categories/MATLAB/">MATLAB</a></li><li><a class="category-link" href="/categories/PYTHON/">PYTHON</a></li><li><a class="category-link" href="/categories/ROBOTICS/">ROBOTICS</a></li><li><a class="category-link" href="/categories/ROS/">ROS</a></li><li><a class="category-link" href="/categories/TOOLS/">TOOLS</a></li><li><a class="category-link" href="/categories/dataStruct/">dataStruct</a></li><li><a class="category-link" href="/categories/robotics/">robotics</a>
	                    </ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/" ><img src="/img/about.png"></a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/" ><img src="/img/friend.png"></a>
	        
			</li>




	        <!-- about 关于格言   --> 
			<li>
	        
	            <a href="/quote/" ><img src="/img/quote.png"></a>
	        
			</li>


	        <!-- about 关于搜索栏   --> 
			<li>
	        
			</li>



	        <!-- my lover--> 
			<li>
	        
	            <a href="/dudu/" ><img src="/img/myLoverLogo.png"></a>
	        
			</li>

	        <!-- my tags--> 
			<li>
	        
			</li>


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/img/postImg/28_motionControl/storybook-2647359_1280.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >运动控制系统简介</h2></a>
            </div>

            <div class="typo" style="padding: 3rem;">
                <!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#运动控制">运动控制</a><ul>
<li><a href="#电机控制与运动控制">电机控制与运动控制</a></li>
<li><a href="#伺服电机的构成">伺服电机的构成</a></li>
<li><a href="#运动控制系统的典型构成">运动控制系统的典型构成</a></li>
</ul>
</li>
<li><a href="#位置控制">位置控制</a><ul>
<li><a href="#周期同步位置模式csp">周期同步位置模式(CSP)</a></li>
<li><a href="#轮廓位置模式-ppm">轮廓位置模式 (PPM)</a></li>
<li><a href="#位置模式pm">位置模式(PM)</a></li>
</ul>
</li>
<li><a href="#伺服系统相关概念">伺服系统相关概念</a><ul>
<li><a href="#交流伺服系统的组成">交流伺服系统的组成</a><ul>
<li><a href="#工作在位置控制模式时的系统组成及说明">工作在位置控制模式时的系统组成及说明</a></li>
<li><a href="#工作在速度控制模式时的系统组成">工作在速度控制模式时的系统组成</a></li>
<li><a href="#工作在转矩控制模式时的系统组成及说明">工作在转矩控制模式时的系统组成及说明</a></li>
</ul>
</li>
<li><a href="#伺服电动机与编码器">伺服电动机与编码器</a><ul>
<li><a href="#编码器">编码器</a><ul>
<li><a href="#增量编码器">增量编码器</a></li>
<li><a href="#绝对值编码器">绝对值编码器</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#伺服驱动器的结构与原理">伺服驱动器的结构与原理</a></li>
<li><a href="#电子齿轮比设计">电子齿轮比设计</a></li>
<li><a href="#通讯方式">通讯方式</a></li>
</ul>
</li>
<li><a href="#参考">参考</a></li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近在做伺服电机方面工作,接触到的一些基础的知识,感觉还是非常值得去了解这些内容的,因此将自己从网络上,以及一些手册里的内容,放到这里。</p>
<h1 id="运动控制"><a href="#运动控制" class="headerlink" title="运动控制"></a>运动控制</h1><p><strong>运动控制</strong>主要分两个方向,一个是运动控制,通常用于机械领域；另一个就是过程控制,通常使用于化工领域。而运动控制指的是一种起源于早期的伺服系统,基于电动机的控制,以实现物体对角位移、转矩、转速等等物理量改变的控制。</p>
<h2 id="电机控制与运动控制"><a href="#电机控制与运动控制" class="headerlink" title="电机控制与运动控制"></a>电机控制与运动控制</h2><p><strong>电机控制</strong>(这里指伺服电机)主要关注的是控制单个电机的转距、速度、位置中的一个或多个参数达到给定值。而<strong>运动控制</strong>主要关注点在于协调多个电机,完成指定的运动(合成轨迹、合成速度),比较着重轨迹规划、速度规划、运动学转换。</p>
<p><strong>运动控制</strong>往往是针对产品而言的,包含机械、软件、电气等模块,例如机器人、无人机、运动平台等等,是对机械运动部件的位置、速度等进行实时的控制管理,使其按照预期的运动轨迹和规定的运动参数进行运动的一种控制。</p>
<p>两者有部分内容是重合的：位置环/速度环/转距环可以在电机的驱动器中实现,也可以在运动控制器中实现.</p>
<h2 id="伺服电机的构成"><a href="#伺服电机的构成" class="headerlink" title="伺服电机的构成"></a>伺服电机的构成</h2><p>伺服电机的装置由下列三者构成:</p>
<p>1,发出动作指令的”指示装置”(控制器,Controller),</p>
<p>2,依照指示装置的指示讯号与回馈讯号下等指令使电机动作的”控制装置”(伺服放大器),</p>
<p>3,以及将由伺服放大器而来的电力供给驱动控制对象和侦测其状态的”驱动、感测装置”。</p>
<h2 id="运动控制系统的典型构成"><a href="#运动控制系统的典型构成" class="headerlink" title="运动控制系统的典型构成"></a>运动控制系统的典型构成</h2><p>1, 开环系统(电机：步进电机；驱动器：脉冲分配,电流放大)</p>
<p>2,半闭环系统(电机：直流伺服电机、交流伺服电机；驱动器：电流放大,位置反馈控制)</p>
<p>3,半闭环系统(直流伺服电机、交流伺服电机；驱动器：速度反馈控制,电流放大；运动控制器：运动规划,速度指令,位置反馈取自电机轴)</p>
<p>4, 全闭环系统(驱动器：速度反馈控制,电流放大；运动控制器：运动规划,速度指令,位置反馈取自负载)</p>
<p>全闭环伺服系统可以消除机械传动带来的误差,而半闭环系统只能补偿部分误差,因此,半闭环伺服系统的精度比全闭环伺服系统的精度要低一些。由于采用了位置检测装置,所以全闭环系统的位置精度在其他因素确定了之后,主要取决于检测装置的分辨率和精度。</p>
<p>注意半闭环系统2与3的区别。驱动器如果工作在位置模式,运动控制器就只做位置轨迹的规划(Trajectory generator),每个通信周期发送目标位置到驱动器。驱动器接收到设定位置后,与当前位置比较,并依据控制器-驱动器通信周期与驱动器位置环周期进行线性或者非线性插值,将插值作为每个位置环周期的“设定位置”。</p>
<p>假设驱动器位置环周期是125us,控制器和驱动器通信周期为 2ms,当前位置为 0,目标位置为 1mm,那么接下来 16 个周期驱动器位置环的“设定位置”就依次为：0.0625mm,0.125mm, 0.1875mm, 0.25mm,…,1mm. 如果没有插值,那么接下来驱动器的第 1 个周期的设定位置就是 1mm,驱动器在第 125us时,位置为 1mm,在 2-16 个周期,设定位置维持不变,相当于电机停止,直到第 2ms,接收到新的“给定位置”。由于间隔仅为 2ms,电机并不会真的停止,而是表现为顿挫感,转动不流畅。</p>
<p>驱动器如果工作在速度模式,那么控制器就不仅做位置曲线的规划,还要完成位置环的调节。此时NC周期与位置环周期相等,不必插值。伺服驱动器的位置环被忽略,其速度环直接接受上层给出的”设定速度”。</p>
<h1 id="位置控制"><a href="#位置控制" class="headerlink" title="位置控制"></a>位置控制</h1><p>位置控制主要有三种模式：周期同步位置模式 (CSP),轮廓位置模式 (PPM),位置模式 (PM)。</p>
<h2 id="周期同步位置模式-CSP"><a href="#周期同步位置模式-CSP" class="headerlink" title="周期同步位置模式(CSP)"></a>周期同步位置模式(CSP)</h2><p>周期同步位置模式 (Cyclic synchronous position mode) ,与轮廓位置模式 (Profifile Position Mode) 不同,其轨迹发生器位于控制器端,而非驱动器内。在该模式下,控制器只需要周期性的下发目标位置即可(与位置插补模式的原理相类似),而且可以设置附加的速度前馈 (Velocity offffset) 或转矩前馈 (Torque offffset),即轮廓位置模式的 Trajectory Generator 在驱动器内,周期同步位置模式的 Trajectory Generator 在控制器内,而位置模式(Position Mode)、电子手轮模式(Master Encoder Mode)、脉冲/方向模式(Step Direction Mode)则不需要轨迹生成器。</p>
<h2 id="轮廓位置模式-PPM"><a href="#轮廓位置模式-PPM" class="headerlink" title="轮廓位置模式 (PPM)"></a>轮廓位置模式 (PPM)</h2><p>轮廓位置模式下,驱动器接收主站发送来的目标位置指令,在驱动器内部根据速度、加速度规划参数设置进行轨迹规划。例如：应用程序要求伺服轴以设定的速度、加速度运动到某个目标位置,驱动器接到这个指令后,在内部的轨迹生成器中计算出每个 NC 周期(比如：1ms)伺服轴应该到达的位置,然后发送给位置环去执行。</p>
<h2 id="位置模式-PM"><a href="#位置模式-PM" class="headerlink" title="位置模式(PM)"></a>位置模式(PM)</h2><p>位置需求值可直接设定。位置模式允许无轮廓线定位,即目标位置被立即设置为位置控制环的一个新的设定值。位置模式是一种有用的操作模式,在这种情况下,轴作为一个隶属轴,由没有大跳跃的渐进式位置设定值所控制。因此,不需要路径生成器。累进设定值的例子是模拟设定值电压。不产生路径的特殊工作模式是主编码器模式,从轴跟随来自外部编码器的信号脉冲 (例如主轴) 或步进方向模式,步进电机驱动的每个脉冲指令对应一个小的旋转角度。另外的操作模式允许运行运动控制器而不接收在线命令。相反,使用模拟电压信号或信号脉冲作为命令值。这些传入的信号被转换成设定值,直接馈入相应的控制回路而没有一个轮廓或轨迹被产生。</p>
<h1 id="伺服系统相关概念"><a href="#伺服系统相关概念" class="headerlink" title="伺服系统相关概念"></a>伺服系统相关概念</h1><p>伺服系统通常由三个反馈系统构成,由外到内分别是位置环、速度环和电流环。调整时,内环的响应性要高于外环的响应性,如果不遵守该原则,则会使系统响应性变差或产生振动。<strong>电流环调节器参数仅与电机参数有关</strong>,相同电机的电流环参数确定后,如果负载改变,只需调整速度环调节器参数和位置环调节器参数即可,电流环调节器参数不用再做调整。如下所示为应用在机器人上的三环控制简图(非驱控一体)</p>
<div align="center"> <img src="/img/postImg/28_motionControl/threeLoopControl.svg" width="100%" height="40%"> </div>


<p>在交流伺服控制系统中,交流伺服电机运行状态的优劣取决于位置环、速度环和电流环三环控制器设计的好坏。交流伺服控制系统有两种,一种是位置伺服控制系统,包括电流控制器、速度控制器和位置控制器；另一种是速度伺服控制系统,只包括电流控制器和速度控制器。因此选取合适的参数,能够在一定程度上提高系统的快速性、稳定性、准确性。</p>
<p>在电流控制器、速度控制器和位置控制器中,电流控制器是最关键、重要的环节,因为不管是速度还是位置控制,最后都要转化成对交流电机电流的控制。速度环的作用是保证速度指令与交流电机的实际转速相同,从而消除负载转矩扰动等因素对交流电机的影响,通过交流电机的实际转速和输入的速度指令相比较,速度控制器利用其差值直接产生指令控制电流,并与电流指令共同作用,控制交流电机匀速、加速、减速旋转,从而达到交流电机实际转速与控制指令保持一致。位置环的作用是生成交流电机的速度指令,并能够使交流电机准确的跟踪、定位。交流电机的实际位置与设定的目标位置相比较,位置控制器利用其偏差生成交流电机的速度指令。当交流电机启动后,在距离目标位置较大的区域,位置控制器产生最大速度指令,从而使交流电机加速运动后以最大速度恒速运行,在距离较小的区域,位置控制器生成逐次减小的速度控制指令,从而使交流电机减速运动,直至到目标位置后静止。</p>
<p>在清能德创的伺服驱动说明书上,有提到过,电流环调节器参数仅与电机参数有关,因此在调整三环控制的时候,仅需要考虑速度环和运动环即可, 实际上还是需要有经验的人去调整电流环参数的。</p>
<h2 id="交流伺服系统的组成"><a href="#交流伺服系统的组成" class="headerlink" title="交流伺服系统的组成"></a>交流伺服系统的组成</h2><p>交流伺服系统是以交流伺服电动机为控制对象的自动控制系统, 它主要由伺服控制器、伺服驱动器和伺服电动机组成。交流伺服系统 主要有3种控制模式,分别是位置控制模式、速度控制模式和转矩控制模式。在不同的模式下,系统工作原理略有不同。交流伺服系统的控制模式可通过设置伺服驱动器的参数来改变。</p>
<h3 id="工作在位置控制模式时的系统组成及说明"><a href="#工作在位置控制模式时的系统组成及说明" class="headerlink" title="工作在位置控制模式时的系统组成及说明"></a>工作在位置控制模式时的系统组成及说明</h3><p>当交流伺服系统工作在位置控制模式时,能精确控制伺服电动机的转数,因此可以精确控制执行部件的移动距离,即可对执行部件进行运动定位控制。</p>
<p>伺服控制器发出控制信号和脉冲信号给伺服驱动器,伺服驱动器输出U、V、W三相电源电压给伺服电动机,驱动电动机工作,与电动机同轴旋转的编码器会将电动机的旋转信息反馈给伺服驱动器,如电动机每旋转一周编码器会产生一定数量的脉冲送给驱动器。伺服控制器输出的脉冲信号用来确定伺服电动机的转数,在驱动器中,该脉冲信号与编码器送来的脉冲信号进行比较,若两者相等,表明电动机旋转的转数已达到要求,电动机驱动的执行部件已移动到指定的位置。控制器发出的脉冲个数越多,电动机会旋转更多的转数。</p>
<h3 id="工作在速度控制模式时的系统组成"><a href="#工作在速度控制模式时的系统组成" class="headerlink" title="工作在速度控制模式时的系统组成"></a>工作在速度控制模式时的系统组成</h3><p>当交流伺服系统工作在速度控制模式时,伺服驱动器无需输入脉冲信号也可正常工作,故可取消伺服控制器,此时的伺服驱动器类似于变频器,但由于驱动器能接收伺服电动机的编码器送来的转速信息,不但能调节电动机转速,还能让电动机转速保持稳定。</p>
<p>伺服驱动器输出U、V、W三相电源电压给伺服电动机,驱动电动机工作,编码器会将伺服电动机的旋转信息反馈给伺服驱动器。电动机旋转速度越快,编码器反馈给伺服驱动器的脉冲频率就越高。操作伺服驱动器的有关输入开关,可以控制伺服电动机的启动、停止和旋转方向等。调节伺服驱动器的有关输入电位器,可以调节电动机的转速。</p>
<h3 id="工作在转矩控制模式时的系统组成及说明"><a href="#工作在转矩控制模式时的系统组成及说明" class="headerlink" title="工作在转矩控制模式时的系统组成及说明"></a>工作在转矩控制模式时的系统组成及说明</h3><p>当交流伺服系统工作在转矩控制模式时,伺服驱动器无需输入脉冲信号也可正常工作,故可取消伺服控制器,通过操作伺服驱动器的输入电位器,可以调节伺服电动机的输出转矩(又称扭矩,即转力)。</p>
<h2 id="伺服电动机与编码器"><a href="#伺服电动机与编码器" class="headerlink" title="伺服电动机与编码器"></a>伺服电动机与编码器</h2><p>交流伺服系统的控制对象是伺服电动机,编码器通常安装在伺服电动机的转轴上,用来检测同服电动机的转速、转向和位置等信息。</p>
<h3 id="编码器"><a href="#编码器" class="headerlink" title="编码器"></a>编码器</h3><p>编码器旋转一周产生的脉冲个数称为分辨率。</p>
<h4 id="增量编码器"><a href="#增量编码器" class="headerlink" title="增量编码器"></a>增量编码器</h4><p>增量编码器的特点是每旋转一定的角度或移动一定的距离会产生一个脉冲,即输出脉冲随位移增加而不断增多。坑的是不能掉电保存,有段时间用这个编码器增加了不少自己的工作量。。。。。</p>
<h4 id="绝对值编码器"><a href="#绝对值编码器" class="headerlink" title="绝对值编码器"></a>绝对值编码器</h4><p>增量编码器通过输出脉冲的频率反映电动机的转速,通过A、B相脉冲的相位关系反映电动机的转向,故检测电动机转速和转向非常方便。绝对值编码器可以解决增量编码器测位时存在的问题,它可分为 单圈绝对值编码器和多圈绝对值编码器。</p>
<p>单圈绝对值编码器只能对一个圆周进行定位,超过一个圆周定位 就会发生重复,而多圈绝对值编码器可以对多个圆周进行定位。</p>
<h2 id="伺服驱动器的结构与原理"><a href="#伺服驱动器的结构与原理" class="headerlink" title="伺服驱动器的结构与原理"></a>伺服驱动器的结构与原理</h2><p>伺服驱动器又称伺服放大器,是交流伺服系统的核心设备。伺服驱动器的品牌很多,常见的有三菱、安川、松下和三洋等。 伺服驱动器的功能是将工频(50Hz或60Hz)交流电源转换成幅度和频率均可变的交流电源提供给伺服电动机。当伺服驱动器工作在速度控制模式时,通过控制输出电源的频率来对电动机进行调速;当工作在转矩控制模式时,通过控制输出电源的幅度来对电动机进行转矩控制;当工作在位置控制模式时,根据输入脉冲来决定输出电源的通断时间。</p>
<p>上位机通过发送脉冲到伺服驱动器,来实现控制。在这种方式下,用脉冲频率来控制速度,用脉冲个数来控制位置。同样,伺服驱动器也会发送脉冲数,来告诉上位机,伺服电机的位置和速度。比如,我们约定伺服电机10000个脉冲旋转一圈,那么,当上位机发送10000个脉冲,伺服电机旋转一圈,实现位置控制。如果上位机在一分钟内发完这10000个脉冲,那么伺服电机的速度就是1r/min,如果实在一秒钟内发完,那么伺服电机的速度就是1r/s,也就是60r/min。</p>
<p>低端PLC,数控系统,以及各种单片机系统一般都是采用这种模式,简单易行,成本低廉。很显然,当伺服轴数增加,这种控制方式的缺点就会显现出来,上位机硬件成本会增加,配线会很复杂,而且现场EMC不好的话,脉冲极易丢失。所以,这种模式一般是在四轴以下,所以,大部分PLC的脉冲控制轴数都在两轴或是三轴,极少部分PLC可以实现四轴。</p>
<p>不想介绍伺服驱动器的主电路,因为这个和自己读研的方向就差不多。。。。。问题是那会就懒得学,哈哈哈。。。。</p>
<h2 id="电子齿轮比设计"><a href="#电子齿轮比设计" class="headerlink" title="电子齿轮比设计"></a>电子齿轮比设计</h2><p>在实际应用中, 电动机与其他机械传动装置连接时, 电动机每转动一圈, 将转换为相应的位移, 带动负载运动。 位置指令通常是由上位机产生的, 是具有一定频率和个数的脉冲。 当指令脉冲当量和位置反馈脉冲当量不一致时, 采用电子齿轮的方法来进行调节是必需的, 它的好处可以用一个例子说明。</p>
<p>如图所示, 位置环中没有电子齿轮设计时, 要将工件移动 10mm, 上位机要做如下处理：</p>
<div align="center"> <img src="/img/postImg/28_motionControl/电子齿轮比.png" width="100%" height="40%"> </div>


<p>① 电动机转 1 圈为 6mm, 移动 10mm 需要 1. 6666 圈；</p>
<p>② 转动 1 圈需要 10000 个脉冲, 转动 1. 6666 圈, 一共需要 16666 个脉冲；</p>
<p>③ 发出 16666 个指令脉冲。</p>
<p>上位机在每次送出指令脉冲之前, 都要进行上述 “变换”, 受限于机械结构, 并且相应地增加了运算量。位置环中使用电子齿轮设计, 事先根据机械条件, 设定好电子齿轮比分子和分母的值, 参数一旦设定好, 只要机械条件不变, 就无需再次修改。 由于电子齿轮功能的存在, 上位机不用再进行 “变换” 指令, 彻底与机械结构脱离关系。 具体方法是：</p>
<p>① 首先确定机械要移动 1μm, 需要多少个脉冲, 由转 1 圈移动 6mm 计算出转动 10 / 6 个脉冲可以移动 1μm；</p>
<p>② 接下来设定电子齿轮比, 电子齿轮分子为 10, 分母为 6；</p>
<p>③ 最后在上位机选定脉冲当量为 1, 即 1 个脉冲代表移动 1μm, 这样要移动 10mm, 上 位机按指令单位计算出要发送 10000 个脉冲。</p>
<p>这样, 上位机不再需要额外计算, 只要把插补器送出的值折算成脉冲当量值后发出脉冲即可。根据上例, 可以定义出电子齿轮比。 假定相对于每一脉冲信号的机械运动部件的位移单位为 a 微米, 即脉冲当量为 a(a 一般为 1 或者 10、 100、 1000 等。), 在该机械结构下, 电动机转动 1 圈 (有 P 个反馈脉冲) 需要移动 x 微米, 则电子齿轮比 K 为:</p>
<p>K = A/B =aP/x</p>
<p>实际应用中, K 一般取值范围为 0. 01 ～ 100, 如果根据 a、 P、 x 计算出的 K 超出了这个范围, 伺服单元不能正常动作, 这时需要变更机械构成, 或者变动指令单位 a。</p>
<p>电子齿轮是位置环中的一个特殊功能, 它通常放在位置环的给定通道入口处, 齿轮比值 K 的变化实际上只是调节了位置指令脉冲频率, 从而改变了电动机的转速。 因此改变齿轮比 值不会影响位置环的性能。</p>
<h2 id="通讯方式"><a href="#通讯方式" class="headerlink" title="通讯方式"></a>通讯方式</h2><p>通讯方式就是专门为解决脉冲方式的不足而产生的,已经成为一种发展趋势,他把脉冲数和脉冲频率通过通讯的方式,发送给伺服驱动器,这种方式不但可以传递伺服电机的位置信息,还能传递各种状态信息,比如伺服电机的电流,扭矩以及伺服驱动器的故障代码等等,很显然,当轴数多的时候,这种方式的优势不言而喻。</p>
<p>由于运动控制的特殊性,所以不同的厂家都推出自己的运动控制总线,既有开放的,也有封闭的,比如CANopen,以及在此基础上开发的CANmotion和CANlink,MECHATROLINK-II,CCLink等等。随着工业以太网技术的发展,基于以太网的运动控制总线也应运而生,比如<strong>EtherCAT</strong>,ProfinetNet,MECHATROLINK-III等等。还有基于光纤的SERCOS,SSCNETⅢ/H等等。虽然通讯的形式繁多,但他们解决的一般都是实时性问题,因为对于运动控制来说,实时性是非常重要的。从应用开发的角度来说,脉冲和通讯是没有区别的,只是信号传递的形式发生了变化。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>1,<a target="_blank" rel="noopener" href="https://home.cnblogs.com/u/21207-iHome/">XXX已失联</a></p>
<p>2,<a target="_blank" rel="noopener" href="https://www.zhihu.com/people/gk-auto">gk-auto</a></p>
<p>3, CoolDrive R 系列伺服驱动器用户说明书</p>
<p>4, <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%BC%BA%E6%9C%8D%E9%A6%AC%E9%81%94">伺服马达—维基百科</a></p>
<p>5, 《交流伺服系统设计指南》——孙与等著</p>

            </div>



</div>

   <div class="tag-cloud-tags">
    <a href="/tags/CMakeLists/" style="font-size: 10px; color: #f38181">CMakeLists</a> <a href="/tags/Eigen/" style="font-size: 10px; color: #f38181">Eigen</a> <a href="/tags/FCPX/" style="font-size: 10px; color: #f38181">FCPX</a> <a href="/tags/GNU/" style="font-size: 10px; color: #f38181">GNU</a> <a href="/tags/Gazebo/" style="font-size: 10px; color: #f38181">Gazebo</a> <a href="/tags/Git/" style="font-size: 10px; color: #f38181">Git</a> <a href="/tags/Interest/" style="font-size: 10px; color: #f38181">Interest</a> <a href="/tags/KDL/" style="font-size: 11px; color: #ea8b89">KDL</a> <a href="/tags/Life/" style="font-size: 10px; color: #f38181">Life</a> <a href="/tags/Linux/" style="font-size: 12px; color: #e09491">Linux</a> <a href="/tags/Matrix/" style="font-size: 10px; color: #f38181">Matrix</a> <a href="/tags/ODE/" style="font-size: 10px; color: #f38181">ODE</a> <a href="/tags/ROS/" style="font-size: 13px; color: #d79e9a">ROS</a> <a href="/tags/Ros/" style="font-size: 10px; color: #f38181">Ros</a> <a href="/tags/UML/" style="font-size: 10px; color: #f38181">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px; color: #f38181">Ubuntu</a> <a href="/tags/VcXsrv/" style="font-size: 10px; color: #f38181">VcXsrv</a> <a href="/tags/algorithm/" style="font-size: 10px; color: #f38181">algorithm</a> <a href="/tags/algorithms/" style="font-size: 10px; color: #f38181">algorithms</a> <a href="/tags/axis-angle/" style="font-size: 10px; color: #f38181">axis-angle</a> <a href="/tags/bode/" style="font-size: 10px; color: #f38181">bode</a> <a href="/tags/calibration/" style="font-size: 10px; color: #f38181">calibration</a> <a href="/tags/chrome/" style="font-size: 10px; color: #f38181">chrome</a> <a href="/tags/control/" style="font-size: 14px; color: #cda7a2">control</a> <a href="/tags/cpp/" style="font-size: 18px; color: #a8cec3">cpp</a> <a href="/tags/dB/" style="font-size: 10px; color: #f38181">dB</a> <a href="/tags/data-struct/" style="font-size: 10px; color: #f38181">data_struct</a> <a href="/tags/dots/" style="font-size: 15px; color: #c4b1aa">dots</a> <a href="/tags/figure/" style="font-size: 10px; color: #f38181">figure</a> <a href="/tags/gdb/" style="font-size: 10px; color: #f38181">gdb</a> <a href="/tags/latex/" style="font-size: 11px; color: #ea8b89">latex</a> <a href="/tags/launch/" style="font-size: 10px; color: #f38181">launch</a> <a href="/tags/life/" style="font-size: 16px; color: #bbbbb2">life</a> <a href="/tags/linux/" style="font-size: 17px; color: #b1c4ba">linux</a> <a href="/tags/mac/" style="font-size: 10px; color: #f38181">mac</a> <a href="/tags/math/" style="font-size: 14px; color: #cda7a2">math</a> <a href="/tags/matlab/" style="font-size: 12px; color: #e09491">matlab</a> <a href="/tags/memory/" style="font-size: 14px; color: #cda7a2">memory</a> <a href="/tags/motor/" style="font-size: 11px; color: #ea8b89">motor</a> <a href="/tags/moveit/" style="font-size: 10px; color: #f38181">moveit</a> <a href="/tags/operator/" style="font-size: 10px; color: #f38181">operator</a> <a href="/tags/optimal-algorithm/" style="font-size: 10px; color: #f38181">optimal algorithm</a> <a href="/tags/python/" style="font-size: 16px; color: #bbbbb2">python</a> <a href="/tags/robot/" style="font-size: 13px; color: #d79e9a">robot</a> <a href="/tags/robotics/" style="font-size: 13px; color: #d79e9a">robotics</a> <a href="/tags/ros/" style="font-size: 15px; color: #c4b1aa">ros</a> <a href="/tags/ros2/" style="font-size: 11px; color: #ea8b89">ros2</a> <a href="/tags/rtb/" style="font-size: 10px; color: #f38181">rtb</a> <a href="/tags/simulation/" style="font-size: 11px; color: #ea8b89">simulation</a> <a href="/tags/stl/" style="font-size: 10px; color: #f38181">stl</a> <a href="/tags/thread/" style="font-size: 10px; color: #f38181">thread</a> <a href="/tags/tools/" style="font-size: 19px; color: #9ed7cb">tools</a> <a href="/tags/twist/" style="font-size: 10px; color: #f38181">twist</a> <a href="/tags/urdf/" style="font-size: 10px; color: #f38181">urdf</a> <a href="/tags/velocity/" style="font-size: 10px; color: #f38181">velocity</a> <a href="/tags/vim/" style="font-size: 14px; color: #cda7a2">vim</a> <a href="/tags/web/" style="font-size: 10px; color: #f38181">web</a> <a href="/tags/work/" style="font-size: 20px; color: #95e1d3">work</a> <a href="/tags/wsl/" style="font-size: 10px; color: #f38181">wsl</a>
</div>



<div align="center"> 
    <li id="footer-info-copyright">网站内容采用<a class="external" rel="nofollow noopener" target="_blank" href="https://www.gnu.org/copyleft/fdl.html">GNU自由文档许可证3或更高版本</a>授权</li> <img src="https://licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="知识共享许可协议">



        </div>
    </div>
</body>


</html>
