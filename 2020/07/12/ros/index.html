<!DOCTYPE HTML>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><link rel="bookmark" type="image/x-icon" href="/img/favicon.ico">
	<link rel="shortcut icon" href="/img/favicon.ico">
	
				<!-- Modified by lsqyRobot -->
    <title>
    Beyond The Memory
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="stylesheet" href="/css/timeLine.css">
    <link rel="stylesheet" href="/css/lsqy_main.css">
    <link rel="stylesheet" href="/css/dropdownMenu.css">
    <meta name="keywords" content="looking backward">
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css">
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url(https://source.unsplash.com/random/1600x900) center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/dytitle.js"></script>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas> 
    <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
    <script type="text/javascript" src="/js/fireworks.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




	
</head>
    
		


<link rel="stylesheet" href="/css/prism_coy.css">
<link rel="stylesheet" href="/css/typo.css">
<body class="is-loading">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="wrapper" class="fade-in">
        <header id="header">
    <a href="/" class="logo">dots</a>
</header>

        <nav id="nav" class="special">
            <ul class="menu links">
			<!-- Homepage  主页  --> 
			<li>
	            <a href="/" rel="nofollow">主页</a>
	        </li>

			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Algorithm/">Algorithm</a></li><li><a class="category-link" href="/categories/C/">C</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/Life/">Life</a></li><li><a class="category-link" href="/categories/Linux/">Linux</a></li><li><a class="category-link" href="/categories/Matlab/">Matlab</a></li><li><a class="category-link" href="/categories/latex/">latex</a></li><li><a class="category-link" href="/categories/ros/">ros</a></li><li><a class="category-link" href="/categories/tools/">tools</a></li><li><a class="category-link" href="/categories/work/">work</a>
	                    </li></ul>
	        </li>
	        


	        <!-- about 关于我   --> 
			<li>
	        
	            <a href="/about/">关于我</a>
	        
			</li>



	        <!-- about 关于我的朋友   --> 
			<li>
	        
	            <a href="/friend/">老友记</a>
	        
			</li>











            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
			</ul>
</nav>


        <div id="main">
            <div class="post_page_title_img" style="height: 25rem;background-image: url(/images/ros.png);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2>ros学习笔记(一)</h2></a>
            </div>
            <div class="typo" style="padding: 3rem;">
                <p>​    在macOs系统上，建议在docker上学习以及使用ros, 类似的，可以在docker中学习linux内核，可以节省系统的运行开销以及储存空间。下面简单的说明下docker的安装。命令行下输入</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>cask <span class="keyword">install </span>docker</span><br></pre></td></tr></table></figure>
<p>下载成功后会出现</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Moving App <span class="string">'Docker.app'</span> <span class="keyword">to</span> <span class="string">'/Applications/Docker.app'</span>.</span><br></pre></td></tr></table></figure>
<p>打开docker可以使用</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /Applications/Docker.<span class="keyword">app</span>;<span class="keyword">open</span> Docker.<span class="keyword">app</span>;</span><br></pre></td></tr></table></figure>
<p>输入密码即可，可以检测docker是否安装成功，可以输入</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="comment">--version</span></span><br></pre></td></tr></table></figure>
<p>安装ros的方法使用了知乎用户<a href="https://zhuanlan.zhihu.com/p/85664330" target="_blank" rel="noopener">JK 触发器</a>提供的策略，在登入账号的前提下，在命令行下输入 ：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">docker</span> pull yz16/my_ros</span><br></pre></td></tr></table></figure>
<p>生成Container:<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~;mkdir ros_workspaces;</span><br><span class="line">docker <span class="builtin-name">run</span> --name ros_env \</span><br><span class="line">--mount <span class="attribute">type</span>=bind,source=/Users/yourName/ros_workspaces,\</span><br><span class="line"><span class="attribute">target</span>=/root/ros_workspaces \</span><br><span class="line">-itd -p 6080:80 yz16/my_ros</span><br></pre></td></tr></table></figure></p>
<p>浏览器打开 <a href="http://127.0.0.1:6080" target="_blank" rel="noopener">http://127.0.0.1:6080</a> 就可以强行操作一波了。</p>
<p>确认容器有在运行，可以通过 docker ps 来查看,<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cd</span> ~;<span class="attribute">cd</span> ros_env;<span class="attribute">docker</span> ps</span><br></pre></td></tr></table></figure></p>
<p>输出详情介绍：<br>1,CONTAINER ID: 容器 ID。<br>2,IMAGE: 使用的镜像。<br>3,COMMAND: 启动容器时运行的命令。<br>4,CREATED: 容器的创建时间。<br>5,STATUS: 容器状态。<br>6,PORTS: 容器的端口信息和使用的连接类型（tcp\udp）。<br>7,NAMES: 自动分配的容器名称。</p>
<p>在宿主主机内使用 docker logs 命令，查看容器内的标准输出(先使用ps指令，查看文件夹中一连串的字母，再docker logs asdfadfs。</p>
<p>以后启动和关闭就可以直接使用如下指令来解决：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="literal">start</span>/<span class="literal">stop</span> ros_env</span><br></pre></td></tr></table></figure>
<h1 id="ROS"><a href="#ROS" class="headerlink" title="ROS"></a>ROS</h1><h2 id="ROS文件系统中的基本概念"><a href="#ROS文件系统中的基本概念" class="headerlink" title="ROS文件系统中的基本概念"></a>ROS文件系统中的基本概念</h2><p>该内容源自<a href="https://www.ncnynl.com/archives/201608/498.html" target="_blank" rel="noopener">创客制造</a>, 仅作为学习使用。</p>
<p>(1) Packages: Package是ROS系统中最底层最基本的组织，里面存放各种文件:库、工具、可执行文件等.<br>(2) Manifest: 一个package描述xml文件，定义package之间的依赖关系.<br>(3) Stacks: package的集合，比package这个概念高一级别<br>(4) Stack Manifest: 作用类似package manifest文件，但是它是针对stack的.</p>
<p>在文件系统中很容易识别package和stack:</p>
<p>(1) package是一个包含 manifest.xml 文件的目录.<br>(2) stack是一个包含 stack.xml 文件的目录.</p>
<p><strong>使用rospack和rosstack</strong></p>
<p>​    rospack和rosstack命令都包含于rospack package中. 两个命令用于获取packages 和stacks的信息.      </p>
<p><strong>roscd log</strong></p>
<pre><code> roscd log命令切换到ROS储存日志文件的目录。注意:如果从未运行过任何ROS程序，命令会返回目录不存在的错误。 只能切换到那些路径已经包含在 ROS\_PACKAGE\_PATH 环境变量中的软件包，要查看 ROS\_PACKAGE\_PATH 中包含的路径可以输入： 
</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$ROS_PACKAGE_PATH</span></span><br></pre></td></tr></table></figure>
<p><strong>rosls</strong></p>
<p>rosls包含于rosbash package中. 作用是列出指定的package或stack中的文件及目录.</p>
<h3 id="ROS文件系统介绍-以下内容来自于维基百科"><a href="#ROS文件系统介绍-以下内容来自于维基百科" class="headerlink" title="ROS文件系统介绍(以下内容来自于维基百科)"></a>ROS文件系统介绍(以下内容来自于<a href="http://wiki.ros.org/cn/ROS/Tutorials/NavigatingTheFilesystem" target="_blank" rel="noopener">维基百科</a>)</h3><h4 id="创建工作空间"><a href="#创建工作空间" class="headerlink" title="创建工作空间"></a>创建工作空间</h4><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">source</span> <span class="regexp">/opt/</span>ros<span class="regexp">/kinetic/</span>setup.bash</span><br><span class="line">mkdir -p ~<span class="regexp">/catkin_ws/</span>src</span><br><span class="line">cd ~<span class="regexp">/catkin_ws/</span></span><br><span class="line">catkin_make</span><br></pre></td></tr></table></figure>
<p> 记得在2018年那会，对linux不太熟悉的时候，看到以上的代码就不知道代表啥意思，如果对现在内容感兴趣的同学，还是建议去学习学习linux的一些基础知识。这里catkin_make和cmakelist(可以理解为makefile的升级版)的有点类似。另外，到了’/opt/ros/kinetic/‘这个文件夹时，发现有后缀为.zsh的setup,这个是给用zsh的童鞋用的，比如mbp上的就默认为zsh了。当时那会儿还不清楚这个区别，导致折腾了好一会才解决。</p>
<p>输入了上述的指令，会出现如下所示的图</p>
<p><img src="/images/catkin_ws.png" width="50%" height="30%"></p>
<h3 id="ros核心概念-以下内容源自于古月居大佬"><a href="#ros核心概念-以下内容源自于古月居大佬" class="headerlink" title="ros核心概念(以下内容源自于古月居大佬)"></a>ros核心概念(以下内容源自于<a href="https://www.bilibili.com/video/BV1zt411G7Vn?p=7" target="_blank" rel="noopener">古月居</a>大佬)</h3><p>大佬深入浅出，下面仅仅作为学习记录使用。</p>
<blockquote>
<p>节点(Node) ー一执行单元</p>
</blockquote>
<ul>
<li>(1) 执行具体任务的进程、独立运行的可执行文件.</li>
<li>(2) 不同节点可使用不同的编程语言，可分布式运行在不同的主机</li>
<li>(3) 节点在系统中的名称必须是唯一的。</li>
</ul>
<blockquote>
<p>节点管理器(ROS Master) ー一控制中心</p>
</blockquote>
<ul>
<li>(1) 为节点提供命名和注册服务；</li>
<li>(2) 跟踪和记录话题/服务通信，辅助节点相互查找、建立连接；</li>
<li>(3) 提供参数服务器，节点使用此服务器存储和检索运行时的参数。</li>
</ul>
<blockquote>
<p>话题(Topic)一一异步通信机制 (单向)</p>
</blockquote>
<ul>
<li>(1) 节点间用来传输数据的重要总线;</li>
<li>(2) 使用发布/订模型,数据由发布者传输到订阋者,同一个话题的订阅者或发布者可以不唯一。</li>
</ul>
<p><img src="/images/topic_ros.png" width="70%" height="50%"></p>
<blockquote>
<p>消息（Message) ー一话题数据</p>
</blockquote>
<ul>
<li>(1) 具有一定的类型和数据结构，包括 ROS 提供的标准类型和用户自定义类型;</li>
<li>(2) 使用编程语言无关的.msg 文件定义，编译过程中生成对应的代码文件。</li>
</ul>
<blockquote>
<p>服务（Service) ー一同步通信机制 (双向)</p>
</blockquote>
<ul>
<li>(1) 使用客户端/服务器(C/S)模型, 客户端发送请求数据, 服务器完成处理后返回应答数据</li>
<li>(2) 使用编程语言无关的.srv 文件定义请求和应答数据结构，编译过程中生成对应的代码文件。</li>
</ul>
<h3 id="创建工作空间与功能包"><a href="#创建工作空间与功能包" class="headerlink" title="创建工作空间与功能包"></a>创建工作空间与功能包</h3><blockquote>
<p>创建工作空间</p>
</blockquote>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~<span class="string">/catkin_ws/src</span></span><br><span class="line"><span class="keyword">cd</span> ~<span class="string">/catkin_ws/src</span></span><br><span class="line">catkin_init_workspace</span><br></pre></td></tr></table></figure>
<blockquote>
<p>编译工作空间</p>
</blockquote>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~<span class="string">/catkin_ws/</span></span><br><span class="line">catkin_make</span><br></pre></td></tr></table></figure>
<blockquote>
<p>设置环境变量</p>
</blockquote>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source devel/<span class="built_in">setup</span>.bash</span><br></pre></td></tr></table></figure>
<blockquote>
<p>检查环境变量</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$ROS_PACKAGE_PATH</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>创建功能包</p>
</blockquote>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">catkin_create_pkg &lt;package_name&gt; <span class="string">[depend1]</span> <span class="string">[depend2]</span> <span class="string">[depend3]</span></span><br></pre></td></tr></table></figure>
<h3 id="一些技巧"><a href="#一些技巧" class="headerlink" title="一些技巧"></a>一些技巧</h3><p>(1) 可以通过rqt_graph来更好的理解在launch文件中所做的事情</p>

            </div>

        </div>
    </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


</body>


 	
</html>
